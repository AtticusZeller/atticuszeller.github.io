
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Find all the available commands you can use in a Dockerfile and learn how to use them, including COPY, ARG, ENTRYPOINT, and more.">
      
      
        <meta name="author" content="['Docker Documentation']">
      
      
        <link rel="canonical" href="https://atticuszeller.github.io/Reference/docker/Dockerfile%20reference/">
      
      
        <link rel="prev" href="../../devops/A%20Docker%20Tutorial%20for%20Beginners/">
      
      
        <link rel="next" href="../../linux/12%20Linux%20Terminal%20Shortcuts%20Every%20Power%20Linux%20User%20Must%20Know/">
      
      
      <link rel="icon" href="../../../assets/logo/logo.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.7">
    
    
      
        <title>Dockerfile reference - Notes</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Lora";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#dockerfile-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Notes" class="md-header__button md-logo" aria-label="Notes" data-md-component="logo">
      
  <img src="../../../assets/logo/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Notes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Dockerfile reference
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="green"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="deep-purple"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/AtticusZeller/atticuszeller.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Notes
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Backend/Docker/" class="md-tabs__link">
          
  
    
  
  Backend

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Language/C%2B%2B/Pointer/" class="md-tabs__link">
          
  
    
  
  Language

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Learning/Computer%20Vison/3D/" class="md-tabs__link">
          
  
    
  
  Learning

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Machine%20Learning/Data/" class="md-tabs__link">
          
  
    
  
  Machine Learning

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../OS/" class="md-tabs__link">
          
  
    
  
  OS

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../Finding%20and%20managing%20research%20papers%20a%20survey%20of%20tools%20and%20products/" class="md-tabs__link">
          
  
    
  
  Reference

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../VCS/git/" class="md-tabs__link">
          
  
    
  
  VCS

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../tools/IDE/JetBrains/" class="md-tabs__link">
          
  
    
  
  Tools

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Notes" class="md-nav__button md-logo" aria-label="Notes" data-md-component="logo">
      
  <img src="../../../assets/logo/logo.svg" alt="logo">

    </a>
    Notes
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/AtticusZeller/atticuszeller.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Notes
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Backend
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Backend
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Backend/Docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Backend/FastApi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FastApi
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DB
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            DB
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Backend/DB/PostgreSQL/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PostgreSQL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Backend/DB/Sqlite/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sqlite
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3_3" id="__nav_2_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ORM
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_3">
            <span class="md-nav__icon md-icon"></span>
            ORM
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Backend/DB/ORM/SQLModel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SQLModel
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Proxy
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Proxy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Backend/Proxy/Traefik/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Traefik
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Language
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Language
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    C++
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            C++
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/C%2B%2B/Pointer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pointer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/C%2B%2B/packages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Packages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/C%2B%2B/syntax/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basic
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_4" >
        
          
          <label class="md-nav__link" for="__nav_3_1_4" id="__nav_3_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data model
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_4">
            <span class="md-nav__icon md-icon"></span>
            Data model
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/C%2B%2B/Data_model/Queue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Queue
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/C%2B%2B/Data_model/String/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    String
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/C%2B%2B/Data_model/map/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Map
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/C%2B%2B/Data_model/set/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Set
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/C%2B%2B/Data_model/stack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stack
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/C%2B%2B/Data_model/unordered_map/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    unordered_map
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/C%2B%2B/Data_model/unordered_set/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    unordered_set
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/C%2B%2B/Data_model/vector/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Initialization
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_5" >
        
          
          <label class="md-nav__link" for="__nav_3_1_5" id="__nav_3_1_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    STL
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_5">
            <span class="md-nav__icon md-icon"></span>
            STL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/C%2B%2B/STL/Pointer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pointer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/C%2B%2B/STL/Queue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Queue
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/C%2B%2B/STL/String/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    String
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/C%2B%2B/STL/algorithm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Algorithm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/C%2B%2B/STL/map/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Map
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/C%2B%2B/STL/set/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Set
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/C%2B%2B/STL/stack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stack
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/C%2B%2B/STL/unordered_map/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    unordered_map
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/C%2B%2B/STL/unordered_set/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    unordered_set
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/C%2B%2B/STL/vector/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Initialization
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/python/Mypy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mypy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/python/Pytest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pytest
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_3" >
        
          
          <label class="md-nav__link" for="__nav_3_2_3" id="__nav_3_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Std
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_3">
            <span class="md-nav__icon md-icon"></span>
            Std
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/python/Std/Pathlib/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pathlib
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_4" >
        
          
          <label class="md-nav__link" for="__nav_3_2_4" id="__nav_3_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Venv
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_4">
            <span class="md-nav__icon md-icon"></span>
            Venv
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/python/Venv/Poetry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Poetry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/python/Venv/UV/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Language/python/Venv/conda/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conda
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Learning
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Learning
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Computer Vison
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Computer Vison
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Learning/Computer%20Vison/3D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3D
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Learning/Computer%20Vison/Image/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Image
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Machine Learning
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Machine Learning
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Machine%20Learning/Data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Machine%20Learning/basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basics
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../OS/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    OS
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            OS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OS/Bugs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bugs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OS/GPU/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GPU
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../OS/Ubuntu/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Ubuntu
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            Ubuntu
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OS/Ubuntu/Appearance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Appearance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OS/Ubuntu/Gnome/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gnome
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OS/Ubuntu/Package/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Package
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OS/Ubuntu/System/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OS/Ubuntu/Terminal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Terminal
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5" >
        
          
          <label class="md-nav__link" for="__nav_6_5" id="__nav_6_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Windows
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5">
            <span class="md-nav__icon md-icon"></span>
            Windows
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OS/Windows/Powershell/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Powershell
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Finding%20and%20managing%20research%20papers%20a%20survey%20of%20tools%20and%20products/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Finding and managing research papers: a survey of tools and products
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
        
          
          <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_1" >
        
          
          <label class="md-nav__link" for="__nav_7_2_1" id="__nav_7_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Steph Ango
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_1">
            <span class="md-nav__icon md-icon"></span>
            Steph Ango
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Steph%20Ango/What%20can%20we%20remove/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What can we remove?
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Devops
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            Devops
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devops/A%20Docker%20Tutorial%20for%20Beginners/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    A Docker Tutorial for Beginners
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4" checked>
        
          
          <label class="md-nav__link" for="__nav_7_4" id="__nav_7_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7_4">
            <span class="md-nav__icon md-icon"></span>
            Docker
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Dockerfile reference
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Dockerfile reference
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    <span class="md-ellipsis">
      Syntax
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#escape" class="md-nav__link">
    <span class="md-ellipsis">
      Escape
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#check" class="md-nav__link">
    <span class="md-ellipsis">
      Check
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exec-form" class="md-nav__link">
    <span class="md-ellipsis">
      Exec Form
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exec Form">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#variable-substitution" class="md-nav__link">
    <span class="md-ellipsis">
      Variable Substitution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backslashes" class="md-nav__link">
    <span class="md-ellipsis">
      Backslashes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shell-form" class="md-nav__link">
    <span class="md-ellipsis">
      Shell Form
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-a-different-shell" class="md-nav__link">
    <span class="md-ellipsis">
      Use a Different Shell
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#understand-how-arg-and-from-interact" class="md-nav__link">
    <span class="md-ellipsis">
      Understand how ARG and FROM Interact
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cache-invalidation-for-run-instructions" class="md-nav__link">
    <span class="md-ellipsis">
      Cache Invalidation for RUN Instructions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-mount" class="md-nav__link">
    <span class="md-ellipsis">
      RUN --mount
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-mounttypebind" class="md-nav__link">
    <span class="md-ellipsis">
      RUN --mount=type=bind
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-mounttypecache" class="md-nav__link">
    <span class="md-ellipsis">
      RUN --mount=type=cache
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RUN --mount=type=cache">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-cache-go-packages" class="md-nav__link">
    <span class="md-ellipsis">
      Example: Cache Go Packages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-cache-apt-packages" class="md-nav__link">
    <span class="md-ellipsis">
      Example: Cache Apt Packages
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-mounttypetmpfs" class="md-nav__link">
    <span class="md-ellipsis">
      RUN --mount=type=tmpfs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-mounttypesecret" class="md-nav__link">
    <span class="md-ellipsis">
      RUN --mount=type=secret
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RUN --mount=type=secret">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-access-to-s3" class="md-nav__link">
    <span class="md-ellipsis">
      Example: Access to S3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-mount-as-environment-variable" class="md-nav__link">
    <span class="md-ellipsis">
      Example: Mount as Environment Variable
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-mounttypessh" class="md-nav__link">
    <span class="md-ellipsis">
      RUN --mount=type=ssh
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RUN --mount=type=ssh">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-access-to-gitlab" class="md-nav__link">
    <span class="md-ellipsis">
      Example: Access to GitLab
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-network" class="md-nav__link">
    <span class="md-ellipsis">
      RUN --network
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-networkdefault" class="md-nav__link">
    <span class="md-ellipsis">
      RUN --network=default
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-networknone" class="md-nav__link">
    <span class="md-ellipsis">
      RUN --network=none
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RUN --network=none">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-isolating-external-effects" class="md-nav__link">
    <span class="md-ellipsis">
      Example: Isolating External Effects
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-networkhost" class="md-nav__link">
    <span class="md-ellipsis">
      RUN --network=host
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-security" class="md-nav__link">
    <span class="md-ellipsis">
      RUN --security
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RUN --security">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-check-entitlements" class="md-nav__link">
    <span class="md-ellipsis">
      Example: Check Entitlements
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5" >
        
          
          <label class="md-nav__link" for="__nav_7_5" id="__nav_7_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Linux
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5">
            <span class="md-nav__icon md-icon"></span>
            Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/12%20Linux%20Terminal%20Shortcuts%20Every%20Power%20Linux%20User%20Must%20Know/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    12 Linux Terminal Shortcuts Every Power Linux User Must Know
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/Understanding%20Systemd%20Units%20and%20Unit%20Files%20%20DigitalOcean/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Understanding Systemd Units and Unit Files | DigitalOcean
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_6" >
        
          
          <label class="md-nav__link" for="__nav_7_6" id="__nav_7_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Obsidian
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_6">
            <span class="md-nav__icon md-icon"></span>
            Obsidian
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../obsidian/Early%20access%20versions%20-%20Obsidian%20Help/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Early access versions - Obsidian Help
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../obsidian/My%2010%2B%20Obsidian%20Plugins%20As%20a%20Medium%20Writer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    My 10+ Obsidian Plugins As a Medium Writer
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    VCS
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            VCS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../VCS/git/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_2" >
        
          
          <label class="md-nav__link" for="__nav_8_2" id="__nav_8_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Github
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_2">
            <span class="md-nav__icon md-icon"></span>
            Github
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../VCS/github/SSH_keypair_setup_for_GitHub/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SSH
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1" >
        
          
          <label class="md-nav__link" for="__nav_9_1" id="__nav_9_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    IDE
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_1">
            <span class="md-nav__icon md-icon"></span>
            IDE
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/IDE/JetBrains/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JetBrains
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/IDE/VSCode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VSCode
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    <span class="md-ellipsis">
      Syntax
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#escape" class="md-nav__link">
    <span class="md-ellipsis">
      Escape
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#check" class="md-nav__link">
    <span class="md-ellipsis">
      Check
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exec-form" class="md-nav__link">
    <span class="md-ellipsis">
      Exec Form
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exec Form">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#variable-substitution" class="md-nav__link">
    <span class="md-ellipsis">
      Variable Substitution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backslashes" class="md-nav__link">
    <span class="md-ellipsis">
      Backslashes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shell-form" class="md-nav__link">
    <span class="md-ellipsis">
      Shell Form
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-a-different-shell" class="md-nav__link">
    <span class="md-ellipsis">
      Use a Different Shell
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#understand-how-arg-and-from-interact" class="md-nav__link">
    <span class="md-ellipsis">
      Understand how ARG and FROM Interact
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cache-invalidation-for-run-instructions" class="md-nav__link">
    <span class="md-ellipsis">
      Cache Invalidation for RUN Instructions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-mount" class="md-nav__link">
    <span class="md-ellipsis">
      RUN --mount
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-mounttypebind" class="md-nav__link">
    <span class="md-ellipsis">
      RUN --mount=type=bind
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-mounttypecache" class="md-nav__link">
    <span class="md-ellipsis">
      RUN --mount=type=cache
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RUN --mount=type=cache">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-cache-go-packages" class="md-nav__link">
    <span class="md-ellipsis">
      Example: Cache Go Packages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-cache-apt-packages" class="md-nav__link">
    <span class="md-ellipsis">
      Example: Cache Apt Packages
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-mounttypetmpfs" class="md-nav__link">
    <span class="md-ellipsis">
      RUN --mount=type=tmpfs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-mounttypesecret" class="md-nav__link">
    <span class="md-ellipsis">
      RUN --mount=type=secret
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RUN --mount=type=secret">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-access-to-s3" class="md-nav__link">
    <span class="md-ellipsis">
      Example: Access to S3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-mount-as-environment-variable" class="md-nav__link">
    <span class="md-ellipsis">
      Example: Mount as Environment Variable
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-mounttypessh" class="md-nav__link">
    <span class="md-ellipsis">
      RUN --mount=type=ssh
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RUN --mount=type=ssh">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-access-to-gitlab" class="md-nav__link">
    <span class="md-ellipsis">
      Example: Access to GitLab
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-network" class="md-nav__link">
    <span class="md-ellipsis">
      RUN --network
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-networkdefault" class="md-nav__link">
    <span class="md-ellipsis">
      RUN --network=default
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-networknone" class="md-nav__link">
    <span class="md-ellipsis">
      RUN --network=none
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RUN --network=none">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-isolating-external-effects" class="md-nav__link">
    <span class="md-ellipsis">
      Example: Isolating External Effects
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-networkhost" class="md-nav__link">
    <span class="md-ellipsis">
      RUN --network=host
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-security" class="md-nav__link">
    <span class="md-ellipsis">
      RUN --security
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RUN --security">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-check-entitlements" class="md-nav__link">
    <span class="md-ellipsis">
      Example: Check Entitlements
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="dockerfile-reference">Dockerfile Reference<a class="headerlink" href="#dockerfile-reference" title="Permanent link">&para;</a></h1>
<p>Docker can build images automatically by reading the instructions from a Dockerfile. A Dockerfile is a text document that contains all the commands a user could call on the command line to assemble an image. This page describes the commands you can use in a Dockerfile.</p>
<p>The Dockerfile supports the following instructions:</p>
<table>
<thead>
<tr>
<th>Instruction</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#add"><code>ADD</code></a></td>
<td>Add local or remote files and directories.</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#arg"><code>ARG</code></a></td>
<td>Use build-time variables.</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#cmd"><code>CMD</code></a></td>
<td>Specify default commands.</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#copy"><code>COPY</code></a></td>
<td>Copy files and directories.</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#entrypoint"><code>ENTRYPOINT</code></a></td>
<td>Specify default executable.</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#env"><code>ENV</code></a></td>
<td>Set environment variables.</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#expose"><code>EXPOSE</code></a></td>
<td>Describe which ports your application is listening on.</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#from"><code>FROM</code></a></td>
<td>Create a new build stage from a base image.</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#healthcheck"><code>HEALTHCHECK</code></a></td>
<td>Check a container's health on startup.</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#label"><code>LABEL</code></a></td>
<td>Add metadata to an image.</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#maintainer-deprecated"><code>MAINTAINER</code></a></td>
<td>Specify the author of an image.</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#onbuild"><code>ONBUILD</code></a></td>
<td>Specify instructions for when the image is used in a build.</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#run"><code>RUN</code></a></td>
<td>Execute build commands.</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#shell"><code>SHELL</code></a></td>
<td>Set the default shell of an image.</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#stopsignal"><code>STOPSIGNAL</code></a></td>
<td>Specify the system call signal for exiting a container.</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#user"><code>USER</code></a></td>
<td>Set user and group ID.</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#volume"><code>VOLUME</code></a></td>
<td>Create volume mounts.</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#workdir"><code>WORKDIR</code></a></td>
<td>Change working directory.</td>
</tr>
</tbody>
</table>
<p>Here is the format of the Dockerfile:</p>
<p>The instruction is not case-sensitive. However, convention is for them to be UPPERCASE to distinguish them from arguments more easily.</p>
<p>Docker runs instructions in a Dockerfile in order. A Dockerfile <strong>must begin with a <code>FROM</code> instruction</strong>. This may be after <a href="https://docs.docker.com/reference/dockerfile/#parser-directives">parser directives</a>, <a href="https://docs.docker.com/reference/dockerfile/#format">comments</a>, and globally scoped <a href="https://docs.docker.com/reference/dockerfile/#arg">ARGs</a>. The <code>FROM</code> instruction specifies the <a href="https://docs.docker.com/glossary/#base-image">base image</a> from which you are building. <code>FROM</code> may only be preceded by one or more <code>ARG</code> instructions, which declare arguments that are used in <code>FROM</code> lines in the Dockerfile.</p>
<p>BuildKit treats lines that begin with <code>#</code> as a comment, unless the line is a valid <a href="https://docs.docker.com/reference/dockerfile/#parser-directives">parser directive</a>. A <code>#</code> marker anywhere else in a line is treated as an argument. This allows statements like:</p>
<p>Comment lines are removed before the Dockerfile instructions are executed. The comment in the following example is removed before the shell executes the <code>echo</code> command.</p>
<p>The following examples is equivalent.</p>
<p>Comments don't support line continuation characters.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Note on whitespace</strong></p>
<p>For backward compatibility, leading whitespace before comments (<code>#</code>) and instructions (such as <code>RUN</code>) are ignored, but discouraged. Leading whitespace is not preserved in these cases, and the following examples are therefore equivalent:</p>
<p>Whitespace in instruction arguments, however, isn't ignored. The following example prints <code>hello world</code> with leading whitespace as specified:</p>
</div>
<p>Parser directives are optional, and affect the way in which subsequent lines in a Dockerfile are handled. Parser directives don't add layers to the build, and don't show up as build steps. Parser directives are written as a special type of comment in the form <code># directive=value</code>. A single directive may only be used once.</p>
<p>The following parser directives are supported:</p>
<ul>
<li><a href="https://docs.docker.com/reference/dockerfile/#syntax"><code>syntax</code></a></li>
<li><a href="https://docs.docker.com/reference/dockerfile/#escape"><code>escape</code></a></li>
<li><a href="https://docs.docker.com/reference/dockerfile/#check"><code>check</code></a> (since Dockerfile v1.8.0)</li>
</ul>
<p>Once a comment, empty line or builder instruction has been processed, BuildKit no longer looks for parser directives. Instead it treats anything formatted as a parser directive as a comment and doesn't attempt to validate if it might be a parser directive. Therefore, all parser directives must be at the top of a Dockerfile.</p>
<p>Parser directive keys, such as <code>syntax</code> or <code>check</code>, aren't case-sensitive, but they're lowercase by convention. Values for a directive are case-sensitive and must be written in the appropriate case for the directive. For example, <code>#check=skip=jsonargsrecommended</code> is invalid because the check name must use Pascal case, not lowercase. It's also conventional to include a blank line following any parser directives. Line continuation characters aren't supported in parser directives.</p>
<p>Due to these rules, the following examples are all invalid:</p>
<p>Invalid due to line continuation:</p>
<p>Invalid due to appearing twice:</p>
<p>Treated as a comment because it appears after a builder instruction:</p>
<p>Treated as a comment because it appears after a comment that isn't a parser directive:</p>
<p>The following <code>unknowndirective</code> is treated as a comment because it isn't recognized. The known <code>syntax</code> directive is treated as a comment because it appears after a comment that isn't a parser directive.</p>
<p>Non line-breaking whitespace is permitted in a parser directive. Hence, the following lines are all treated identically:</p>
<h2 id="syntax">Syntax<a class="headerlink" href="#syntax" title="Permanent link">&para;</a></h2>
<p>Use the <code>syntax</code> parser directive to declare the Dockerfile syntax version to use for the build. If unspecified, BuildKit uses a bundled version of the Dockerfile frontend. Declaring a syntax version lets you automatically use the latest Dockerfile version without having to upgrade BuildKit or Docker Engine, or even use a custom Dockerfile implementation.</p>
<p>Most users will want to set this parser directive to <code>docker/dockerfile:1</code>, which causes BuildKit to pull the latest stable version of the Dockerfile syntax before the build.</p>
<p>For more information about how the parser directive works, see <a href="https://docs.docker.com/build/buildkit/dockerfile-frontend/">Custom Dockerfile syntax</a>.</p>
<h2 id="escape">Escape<a class="headerlink" href="#escape" title="Permanent link">&para;</a></h2>
<p>Or</p>
<p>The <code>escape</code> directive sets the character used to escape characters in a Dockerfile. If not specified, the default escape character is <code>\</code>.</p>
<p>The escape character is used both to escape characters in a line, and to escape a newline. This allows a Dockerfile instruction to span multiple lines. Note that regardless of whether the <code>escape</code> parser directive is included in a Dockerfile, escaping is not performed in a <code>RUN</code> command, except at the end of a line.</p>
<p>Setting the escape character to <code>`</code> is especially useful on <code>Windows</code>, where <code>\</code> is the directory path separator. <code>`</code> is consistent with <a href="https://technet.microsoft.com/en-us/library/hh847755.aspx">Windows PowerShell</a>.</p>
<p>Consider the following example which would fail in a non-obvious way on Windows. The second <code>\</code> at the end of the second line would be interpreted as an escape for the newline, instead of a target of the escape from the first <code>\</code>. Similarly, the <code>\</code> at the end of the third line would, assuming it was actually handled as an instruction, cause it be treated as a line continuation. The result of this Dockerfile is that second and third lines are considered a single instruction:</p>
<p>Results in:</p>
<p>One solution to the above would be to use <code>/</code> as the target of both the <code>COPY</code> instruction, and <code>dir</code>. However, this syntax is, at best, confusing as it is not natural for paths on Windows, and at worst, error prone as not all commands on Windows support <code>/</code> as the path separator.</p>
<p>By adding the <code>escape</code> parser directive, the following Dockerfile succeeds as expected with the use of natural platform semantics for file paths on Windows:</p>
<p>Results in:</p>
<h2 id="check">Check<a class="headerlink" href="#check" title="Permanent link">&para;</a></h2>
<p>The <code>check</code> directive is used to configure how <a href="https://docs.docker.com/build/checks/">build checks</a> are evaluated. By default, all checks are run, and failures are treated as warnings.</p>
<p>You can disable specific checks using <code>#check=skip=&lt;check-name&gt;</code>. To specify multiple checks to skip, separate them with a comma:</p>
<p>To disable all checks, use <code>#check=skip=all</code>.</p>
<p>By default, builds with failing build checks exit with a zero status code despite warnings. To make the build fail on warnings, set <code>#check=error=true</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using the <code>check</code> directive, with <code>error=true</code> option, it is recommended to pin the <a href="https://docs.docker.com/reference/dockerfile/#syntax">Dockerfile syntax</a> to a specific version. Otherwise, your build may start to fail when new checks are added in the future versions.</p>
</div>
<p>To combine both the <code>skip</code> and <code>error</code> options, use a semi-colon to separate them:</p>
<p>To see all available checks, see the <a href="https://docs.docker.com/reference/build-checks/">build checks reference</a>. Note that the checks available depend on the Dockerfile syntax version. To make sure you're getting the most up-to-date checks, use the <a href="https://docs.docker.com/reference/dockerfile/#syntax"><code>syntax</code></a> directive to specify the Dockerfile syntax version to the latest stable version.</p>
<p>Environment variables (declared with <a href="https://docs.docker.com/reference/dockerfile/#env">the <code>ENV</code> statement</a>) can also be used in certain instructions as variables to be interpreted by the Dockerfile. Escapes are also handled for including variable-like syntax into a statement literally.</p>
<p>Environment variables are notated in the Dockerfile either with <code>$variable_name</code> or <code>${variable_name}</code>. They are treated equivalently and the brace syntax is typically used to address issues with variable names with no whitespace, like <code>${foo}_bar</code>.</p>
<p>The <code>${variable_name}</code> syntax also supports a few of the standard <code>bash</code> modifiers as specified below:</p>
<ul>
<li><code>${variable:-word}</code> indicates that if <code>variable</code> is set then the result will be that value. If <code>variable</code> is not set then <code>word</code> will be the result.</li>
<li><code>${variable:+word}</code> indicates that if <code>variable</code> is set then <code>word</code> will be the result, otherwise the result is the empty string.</li>
</ul>
<p>The following variable replacements are supported in a pre-release version of Dockerfile syntax, when using the <code># syntax=docker/dockerfile-upstream:master</code> syntax directive in your Dockerfile:</p>
<ul>
<li><code>${variable#pattern}</code> removes the shortest match of <code>pattern</code> from <code>variable</code>, seeking from the start of the string.</li>
<li><code>${variable##pattern}</code> removes the longest match of <code>pattern</code> from <code>variable</code>, seeking from the start of the string.</li>
<li><code>${variable%pattern}</code> removes the shortest match of <code>pattern</code> from <code>variable</code>, seeking backwards from the end of the string.</li>
<li><code>${variable%%pattern}</code> removes the longest match of <code>pattern</code> from <code>variable</code>, seeking backwards from the end of the string.</li>
<li><code>${variable/pattern/replacement}</code> replace the first occurrence of <code>pattern</code> in <code>variable</code> with <code>replacement</code></li>
<li><code>${variable//pattern/replacement}</code> replaces all occurrences of <code>pattern</code> in <code>variable</code> with <code>replacement</code></li>
</ul>
<p>In all cases, <code>word</code> can be any string, including additional environment variables.</p>
<p><code>pattern</code> is a glob pattern where <code>?</code> matches any single character and <code>*</code> any number of characters (including zero). To match literal <code>?</code> and <code>*</code>, use a backslash escape: <code>\?</code> and <code>\*</code>.</p>
<p>You can escape whole variable names by adding a <code>\</code> before the variable: <code>\$foo</code> or <code>\${foo}</code>, for example, will translate to <code>$foo</code> and <code>${foo}</code> literals respectively.</p>
<p>Example (parsed representation is displayed after the <code>#</code>):</p>
<p>Environment variables are supported by the following list of instructions in the Dockerfile:</p>
<ul>
<li><code>ADD</code></li>
<li><code>COPY</code></li>
<li><code>ENV</code></li>
<li><code>EXPOSE</code></li>
<li><code>FROM</code></li>
<li><code>LABEL</code></li>
<li><code>STOPSIGNAL</code></li>
<li><code>USER</code></li>
<li><code>VOLUME</code></li>
<li><code>WORKDIR</code></li>
<li><code>ONBUILD</code> (when combined with one of the supported instructions above)</li>
</ul>
<p>You can also use environment variables with <code>RUN</code>, <code>CMD</code>, and <code>ENTRYPOINT</code> instructions, but in those cases the variable substitution is handled by the command shell, not the builder. Note that instructions using the exec form don't invoke a command shell automatically. See <a href="https://docs.docker.com/reference/dockerfile/#variable-substitution">Variable substitution</a>.</p>
<p>Environment variable substitution use the same value for each variable throughout the entire instruction. Changing the value of a variable only takes effect in subsequent instructions. Consider the following example:</p>
<ul>
<li>The value of <code>def</code> becomes <code>hello</code></li>
<li>The value of <code>ghi</code> becomes <code>bye</code></li>
</ul>
<p>You can use <code>.dockerignore</code> file to exclude files and directories from the build context. For more information, see <a href="https://docs.docker.com/build/building/context/#dockerignore-files">.dockerignore file</a>.</p>
<p>The <code>RUN</code>, <code>CMD</code>, and <code>ENTRYPOINT</code> instructions all have two possible forms:</p>
<ul>
<li><code>INSTRUCTION ["executable","param1","param2"]</code> (exec form)</li>
<li><code>INSTRUCTION command param1 param2</code> (shell form)</li>
</ul>
<p>The exec form makes it possible to avoid shell string munging, and to invoke commands using a specific command shell, or any other executable. It uses a JSON array syntax, where each element in the array is a command, flag, or argument.</p>
<p>The shell form is more relaxed, and emphasizes ease of use, flexibility, and readability. The shell form automatically uses a command shell, whereas the exec form does not.</p>
<h2 id="exec-form">Exec Form<a class="headerlink" href="#exec-form" title="Permanent link">&para;</a></h2>
<p>The exec form is parsed as a JSON array, which means that you must use double-quotes (") around words, not single-quotes (').</p>
<p>The exec form is best used to specify an <code>ENTRYPOINT</code> instruction, combined with <code>CMD</code> for setting default arguments that can be overridden at runtime. For more information, see <a href="https://docs.docker.com/reference/dockerfile/#entrypoint">ENTRYPOINT</a>.</p>
<h3 id="variable-substitution">Variable Substitution<a class="headerlink" href="#variable-substitution" title="Permanent link">&para;</a></h3>
<p>Using the exec form doesn't automatically invoke a command shell. This means that normal shell processing, such as variable substitution, doesn't happen. For example, <code>RUN [ "echo", "$HOME" ]</code> won't handle variable substitution for <code>$HOME</code>.</p>
<p>If you want shell processing then either use the shell form or execute a shell directly with the exec form, for example: <code>RUN [ "sh", "-c", "echo $HOME" ]</code>. When using the exec form and executing a shell directly, as in the case for the shell form, it's the shell that's doing the environment variable substitution, not the builder.</p>
<h3 id="backslashes">Backslashes<a class="headerlink" href="#backslashes" title="Permanent link">&para;</a></h3>
<p>In exec form, you must escape backslashes. This is particularly relevant on Windows where the backslash is the path separator. The following line would otherwise be treated as shell form due to not being valid JSON, and fail in an unexpected way:</p>
<p>The correct syntax for this example is:</p>
<h2 id="shell-form">Shell Form<a class="headerlink" href="#shell-form" title="Permanent link">&para;</a></h2>
<p>Unlike the exec form, instructions using the shell form always use a command shell. The shell form doesn't use the JSON array format, instead it's a regular string. The shell form string lets you escape newlines using the <a href="https://docs.docker.com/reference/dockerfile/#escape">escape character</a> (backslash by default) to continue a single instruction onto the next line. This makes it easier to use with longer commands, because it lets you split them up into multiple lines. For example, consider these two lines:</p>
<p>They're equivalent to the following line:</p>
<p>You can also use heredocs with the shell form to break up supported commands.</p>
<p>For more information about heredocs, see <a href="https://docs.docker.com/reference/dockerfile/#here-documents">Here-documents</a>.</p>
<h2 id="use-a-different-shell">Use a Different Shell<a class="headerlink" href="#use-a-different-shell" title="Permanent link">&para;</a></h2>
<p>You can change the default shell using the <code>SHELL</code> command. For example:</p>
<p>For more information, see <a href="https://docs.docker.com/reference/dockerfile/#shell">SHELL</a>.</p>
<p>Or</p>
<p>Or</p>
<p>The <code>FROM</code> instruction initializes a new build stage and sets the <a href="https://docs.docker.com/glossary/#base-image">base image</a> for subsequent instructions. As such, a valid Dockerfile must start with a <code>FROM</code> instruction. The image can be any valid image.</p>
<ul>
<li><code>ARG</code> is the only instruction that may precede <code>FROM</code> in the Dockerfile. See <a href="https://docs.docker.com/reference/dockerfile/#understand-how-arg-and-from-interact">Understand how ARG and FROM interact</a>.</li>
<li><code>FROM</code> can appear multiple times within a single Dockerfile to create multiple images or use one build stage as a dependency for another. Simply make a note of the last image ID output by the commit before each new <code>FROM</code> instruction. Each <code>FROM</code> instruction clears any state created by previous instructions.</li>
<li>Optionally a name can be given to a new build stage by adding <code>AS name</code> to the <code>FROM</code> instruction. The name can be used in subsequent <code>FROM &lt;name&gt;</code>, <a href="https://docs.docker.com/reference/dockerfile/#copy---from"><code>COPY --from=&lt;name&gt;</code></a>, and <a href="https://docs.docker.com/reference/dockerfile/#run---mounttypebind"><code>RUN --mount=type=bind,from=&lt;name&gt;</code></a> instructions to refer to the image built in this stage.</li>
<li>The <code>tag</code> or <code>digest</code> values are optional. If you omit either of them, the builder assumes a <code>latest</code> tag by default. The builder returns an error if it can't find the <code>tag</code> value.</li>
</ul>
<p>The optional <code>--platform</code> flag can be used to specify the platform of the image in case <code>FROM</code> references a multi-platform image. For example, <code>linux/amd64</code>, <code>linux/arm64</code>, or <code>windows/amd64</code>. By default, the target platform of the build request is used. Global build arguments can be used in the value of this flag, for example <a href="https://docs.docker.com/reference/dockerfile/#automatic-platform-args-in-the-global-scope">automatic platform ARGs</a> allow you to force a stage to native build platform (<code>--platform=$BUILDPLATFORM</code>), and use it to cross-compile to the target platform inside the stage.</p>
<h2 id="understand-how-arg-and-from-interact">Understand how ARG and FROM Interact<a class="headerlink" href="#understand-how-arg-and-from-interact" title="Permanent link">&para;</a></h2>
<p><code>FROM</code> instructions support variables that are declared by any <code>ARG</code> instructions that occur before the first <code>FROM</code>.</p>
<p>An <code>ARG</code> declared before a <code>FROM</code> is outside of a build stage, so it can't be used in any instruction after a <code>FROM</code>. To use the default value of an <code>ARG</code> declared before the first <code>FROM</code> use an <code>ARG</code> instruction without a value inside of a build stage:</p>
<p>The <code>RUN</code> instruction will execute any commands to create a new layer on top of the current image. The added layer is used in the next step in the Dockerfile. <code>RUN</code> has two forms:</p>
<p>For more information about the differences between these two forms, see <a href="https://docs.docker.com/reference/dockerfile/#shell-and-exec-form">shell or exec forms</a>.</p>
<p>The shell form is most commonly used, and lets you break up longer instructions into multiple lines, either using newline <a href="https://docs.docker.com/reference/dockerfile/#escape">escapes</a>, or with <a href="https://docs.docker.com/reference/dockerfile/#here-documents">heredocs</a>:</p>
<p>The available <code>[OPTIONS]</code> for the <code>RUN</code> instruction are:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Minimum Dockerfile version</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#run---mount"><code>--mount</code></a></td>
<td>1.2</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#run---network"><code>--network</code></a></td>
<td>1.3</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#run---security"><code>--security</code></a></td>
<td>1.1.2-labs</td>
</tr>
</tbody>
</table>
<h2 id="cache-invalidation-for-run-instructions">Cache Invalidation for RUN Instructions<a class="headerlink" href="#cache-invalidation-for-run-instructions" title="Permanent link">&para;</a></h2>
<p>The cache for <code>RUN</code> instructions isn't invalidated automatically during the next build. The cache for an instruction like <code>RUN apt-get dist-upgrade -y</code> will be reused during the next build. The cache for <code>RUN</code> instructions can be invalidated by using the <code>--no-cache</code> flag, for example <code>docker build --no-cache</code>.</p>
<p>See the <a href="https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices/">Dockerfile Best Practices guide</a> for more information.</p>
<p>The cache for <code>RUN</code> instructions can be invalidated by <a href="https://docs.docker.com/reference/dockerfile/#add"><code>ADD</code></a> and <a href="https://docs.docker.com/reference/dockerfile/#copy"><code>COPY</code></a> instructions.</p>
<h2 id="run-mount">RUN --mount<a class="headerlink" href="#run-mount" title="Permanent link">&para;</a></h2>
<p><code>RUN --mount</code> allows you to create filesystem mounts that the build can access. This can be used to:</p>
<ul>
<li>Create bind mount to the host filesystem or other build stages</li>
<li>Access build secrets or ssh-agent sockets</li>
<li>Use a persistent package management cache to speed up your build</li>
</ul>
<p>The supported mount types are:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#run---mounttypebind"><code>bind</code></a> (default)</td>
<td>Bind-mount context directories (read-only).</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#run---mounttypecache"><code>cache</code></a></td>
<td>Mount a temporary directory to cache directories for compilers and package managers.</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#run---mounttypetmpfs"><code>tmpfs</code></a></td>
<td>Mount a <code>tmpfs</code> in the build container.</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#run---mounttypesecret"><code>secret</code></a></td>
<td>Allow the build container to access secure files such as private keys without baking them into the image or build cache.</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#run---mounttypessh"><code>ssh</code></a></td>
<td>Allow the build container to access SSH keys via SSH agents, with support for passphrases.</td>
</tr>
</tbody>
</table>
<h2 id="run-mounttypebind">RUN --mount=type=bind<a class="headerlink" href="#run-mounttypebind" title="Permanent link">&para;</a></h2>
<p>This mount type allows binding files or directories to the build container. A bind mount is read-only by default.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>target</code>, <code>dst</code>, <code>destination</code>[^1]</td>
<td>Mount path.</td>
</tr>
<tr>
<td><code>source</code></td>
<td>Source path in the <code>from</code>. Defaults to the root of the <code>from</code>.</td>
</tr>
<tr>
<td><code>from</code></td>
<td>Build stage, context, or image name for the root of the source. Defaults to the build context.</td>
</tr>
<tr>
<td><code>rw</code>,<code>readwrite</code></td>
<td>Allow writes on the mount. Written data will be discarded.</td>
</tr>
</tbody>
</table>
<h2 id="run-mounttypecache">RUN --mount=type=cache<a class="headerlink" href="#run-mounttypecache" title="Permanent link">&para;</a></h2>
<p>This mount type allows the build container to cache directories for compilers and package managers.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>Optional ID to identify separate/different caches. Defaults to value of <code>target</code>.</td>
</tr>
<tr>
<td><code>target</code>, <code>dst</code>, <code>destination</code><sup id="fnref1:1"><a href="https://docs.docker.com/reference/dockerfile/#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></td>
<td>Mount path.</td>
</tr>
<tr>
<td><code>ro</code>,<code>readonly</code></td>
<td>Read-only if set.</td>
</tr>
<tr>
<td><code>sharing</code></td>
<td>One of <code>shared</code>, <code>private</code>, or <code>locked</code>. Defaults to <code>shared</code>. A <code>shared</code> cache mount can be used concurrently by multiple writers. <code>private</code> creates a new mount if there are multiple writers. <code>locked</code> pauses the second writer until the first one releases the mount.</td>
</tr>
<tr>
<td><code>from</code></td>
<td>Build stage, context, or image name to use as a base of the cache mount. Defaults to empty directory.</td>
</tr>
<tr>
<td><code>source</code></td>
<td>Subpath in the <code>from</code> to mount. Defaults to the root of the <code>from</code>.</td>
</tr>
<tr>
<td><code>mode</code></td>
<td>File mode for new cache directory in octal. Default <code>0755</code>.</td>
</tr>
<tr>
<td><code>uid</code></td>
<td>User ID for new cache directory. Default <code>0</code>.</td>
</tr>
<tr>
<td><code>gid</code></td>
<td>Group ID for new cache directory. Default <code>0</code>.</td>
</tr>
</tbody>
</table>
<p>Contents of the cache directories persists between builder invocations without invalidating the instruction cache. Cache mounts should only be used for better performance. Your build should work with any contents of the cache directory as another build may overwrite the files or GC may clean it if more storage space is needed.</p>
<h3 id="example-cache-go-packages">Example: Cache Go Packages<a class="headerlink" href="#example-cache-go-packages" title="Permanent link">&para;</a></h3>
<h3 id="example-cache-apt-packages">Example: Cache Apt Packages<a class="headerlink" href="#example-cache-apt-packages" title="Permanent link">&para;</a></h3>
<p>Apt needs exclusive access to its data, so the caches use the option <code>sharing=locked</code>, which will make sure multiple parallel builds using the same cache mount will wait for each other and not access the same cache files at the same time. You could also use <code>sharing=private</code> if you prefer to have each build create another cache directory in this case.</p>
<h2 id="run-mounttypetmpfs">RUN --mount=type=tmpfs<a class="headerlink" href="#run-mounttypetmpfs" title="Permanent link">&para;</a></h2>
<p>This mount type allows mounting <code>tmpfs</code> in the build container.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>target</code>, <code>dst</code>, <code>destination</code><sup id="fnref2:1"><a href="https://docs.docker.com/reference/dockerfile/#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></td>
<td>Mount path.</td>
</tr>
<tr>
<td><code>size</code></td>
<td>Specify an upper limit on the size of the filesystem.</td>
</tr>
</tbody>
</table>
<h2 id="run-mounttypesecret">RUN --mount=type=secret<a class="headerlink" href="#run-mounttypesecret" title="Permanent link">&para;</a></h2>
<p>This mount type allows the build container to access secret values, such as tokens or private keys, without baking them into the image.</p>
<p>By default, the secret is mounted as a file. You can also mount the secret as an environment variable by setting the <code>env</code> option.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>ID of the secret. Defaults to basename of the target path.</td>
</tr>
<tr>
<td><code>target</code>, <code>dst</code>, <code>destination</code></td>
<td>Mount the secret to the specified path. Defaults to <code>/run/secrets/</code> + <code>id</code> if unset and if <code>env</code> is also unset.</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Mount the secret to an environment variable instead of a file, or both. (since Dockerfile v1.10.0)</td>
</tr>
<tr>
<td><code>required</code></td>
<td>If set to <code>true</code>, the instruction errors out when the secret is unavailable. Defaults to <code>false</code>.</td>
</tr>
<tr>
<td><code>mode</code></td>
<td>File mode for secret file in octal. Default <code>0400</code>.</td>
</tr>
<tr>
<td><code>uid</code></td>
<td>User ID for secret file. Default <code>0</code>.</td>
</tr>
<tr>
<td><code>gid</code></td>
<td>Group ID for secret file. Default <code>0</code>.</td>
</tr>
</tbody>
</table>
<h3 id="example-access-to-s3">Example: Access to S3<a class="headerlink" href="#example-access-to-s3" title="Permanent link">&para;</a></h3>
<h3 id="example-mount-as-environment-variable">Example: Mount as Environment Variable<a class="headerlink" href="#example-mount-as-environment-variable" title="Permanent link">&para;</a></h3>
<p>The following example takes the secret <code>API_KEY</code> and mounts it as an environment variable with the same name.</p>
<p>Assuming that the <code>API_KEY</code> environment variable is set in the build environment, you can build this with the following command:</p>
<h2 id="run-mounttypessh">RUN --mount=type=ssh<a class="headerlink" href="#run-mounttypessh" title="Permanent link">&para;</a></h2>
<p>This mount type allows the build container to access SSH keys via SSH agents, with support for passphrases.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>ID of SSH agent socket or key. Defaults to "default".</td>
</tr>
<tr>
<td><code>target</code>, <code>dst</code>, <code>destination</code></td>
<td>SSH agent socket path. Defaults to <code>/run/buildkit/ssh_agent.${N}</code>.</td>
</tr>
<tr>
<td><code>required</code></td>
<td>If set to <code>true</code>, the instruction errors out when the key is unavailable. Defaults to <code>false</code>.</td>
</tr>
<tr>
<td><code>mode</code></td>
<td>File mode for socket in octal. Default <code>0600</code>.</td>
</tr>
<tr>
<td><code>uid</code></td>
<td>User ID for socket. Default <code>0</code>.</td>
</tr>
<tr>
<td><code>gid</code></td>
<td>Group ID for socket. Default <code>0</code>.</td>
</tr>
</tbody>
</table>
<h3 id="example-access-to-gitlab">Example: Access to GitLab<a class="headerlink" href="#example-access-to-gitlab" title="Permanent link">&para;</a></h3>
<p>You can also specify a path to <code>*.pem</code> file on the host directly instead of <code>$SSH_AUTH_SOCK</code>. However, pem files with passphrases are not supported.</p>
<h2 id="run-network">RUN --network<a class="headerlink" href="#run-network" title="Permanent link">&para;</a></h2>
<p><code>RUN --network</code> allows control over which networking environment the command is run in.</p>
<p>The supported network types are:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#run---networkdefault"><code>default</code></a> (default)</td>
<td>Run in the default network.</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#run---networknone"><code>none</code></a></td>
<td>Run with no network access.</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#run---networkhost"><code>host</code></a></td>
<td>Run in the host's network environment.</td>
</tr>
</tbody>
</table>
<h2 id="run-networkdefault">RUN --network=default<a class="headerlink" href="#run-networkdefault" title="Permanent link">&para;</a></h2>
<p>Equivalent to not supplying a flag at all, the command is run in the default network for the build.</p>
<h2 id="run-networknone">RUN --network=none<a class="headerlink" href="#run-networknone" title="Permanent link">&para;</a></h2>
<p>The command is run with no network access (<code>lo</code> is still available, but is isolated to this process)</p>
<h3 id="example-isolating-external-effects">Example: Isolating External Effects<a class="headerlink" href="#example-isolating-external-effects" title="Permanent link">&para;</a></h3>
<p><code>pip</code> will only be able to install the packages provided in the tarfile, which can be controlled by an earlier build stage.</p>
<h2 id="run-networkhost">RUN --network=host<a class="headerlink" href="#run-networkhost" title="Permanent link">&para;</a></h2>
<p>The command is run in the host's network environment (similar to <code>docker build --network=host</code>, but on a per-instruction basis)</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The use of <code>--network=host</code> is protected by the <code>network.host</code> entitlement, which needs to be enabled when starting the buildkitd daemon with <code>--allow-insecure-entitlement network.host</code> flag or in <a href="https://github.com/moby/buildkit/blob/master/docs/buildkitd.toml.md">buildkitd config</a>, and for a build request with <a href="https://docs.docker.com/engine/reference/commandline/buildx_build/#allow"><code>--allow network.host</code> flag</a>.</p>
</div>
<h2 id="run-security">RUN --security<a class="headerlink" href="#run-security" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Not yet available in stable syntax, use <a href="https://docs.docker.com/reference/dockerfile/#syntax"><code>docker/dockerfile:1-labs</code></a> version.</p>
</div>
<p>The default security mode is <code>sandbox</code>. With <code>--security=insecure</code>, the builder runs the command without sandbox in insecure mode, which allows to run flows requiring elevated privileges (e.g. containerd). This is equivalent to running <code>docker run --privileged</code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In order to access this feature, entitlement <code>security.insecure</code> should be enabled when starting the buildkitd daemon with <code>--allow-insecure-entitlement security.insecure</code> flag or in <a href="https://github.com/moby/buildkit/blob/master/docs/buildkitd.toml.md">buildkitd config</a>, and for a build request with <a href="https://docs.docker.com/engine/reference/commandline/buildx_build/#allow"><code>--allow security.insecure</code> flag</a>.</p>
</div>
<p>Default sandbox mode can be activated via <code>--security=sandbox</code>, but that is no-op.</p>
<h3 id="example-check-entitlements">Example: Check Entitlements<a class="headerlink" href="#example-check-entitlements" title="Permanent link">&para;</a></h3>
<p>The <code>CMD</code> instruction sets the command to be executed when running a container from an image.</p>
<p>You can specify <code>CMD</code> instructions using <a href="https://docs.docker.com/reference/dockerfile/#shell-and-exec-form">shell or exec forms</a>:</p>
<ul>
<li><code>CMD ["executable","param1","param2"]</code> (exec form)</li>
<li><code>CMD ["param1","param2"]</code> (exec form, as default parameters to <code>ENTRYPOINT</code>)</li>
<li><code>CMD command param1 param2</code> (shell form)</li>
</ul>
<p>There can only be one <code>CMD</code> instruction in a Dockerfile. If you list more than one <code>CMD</code>, only the last one takes effect.</p>
<p>The purpose of a <code>CMD</code> is to provide defaults for an executing container. These defaults can include an executable, or they can omit the executable, in which case you must specify an <code>ENTRYPOINT</code> instruction as well.</p>
<p>If you would like your container to run the same executable every time, then you should consider using <code>ENTRYPOINT</code> in combination with <code>CMD</code>. See <a href="https://docs.docker.com/reference/dockerfile/#entrypoint"><code>ENTRYPOINT</code></a>. If the user specifies arguments to <code>docker run</code> then they will override the default specified in <code>CMD</code>, but still use the default <code>ENTRYPOINT</code>.</p>
<p>If <code>CMD</code> is used to provide default arguments for the <code>ENTRYPOINT</code> instruction, both the <code>CMD</code> and <code>ENTRYPOINT</code> instructions should be specified in the <a href="https://docs.docker.com/reference/dockerfile/#exec-form">exec form</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Don't confuse <code>RUN</code> with <code>CMD</code>. <code>RUN</code> actually runs a command and commits the result; <code>CMD</code> doesn't execute anything at build time, but specifies the intended command for the image.</p>
</div>
<p>The <code>LABEL</code> instruction adds metadata to an image. A <code>LABEL</code> is a key-value pair. To include spaces within a <code>LABEL</code> value, use quotes and backslashes as you would in command-line parsing. A few usage examples:</p>
<p>An image can have more than one label. You can specify multiple labels on a single line. Prior to Docker 1.10, this decreased the size of the final image, but this is no longer the case. You may still choose to specify multiple labels in a single instruction, in one of the following two ways:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Be sure to use double quotes and not single quotes. Particularly when you are using string interpolation (e.g. <code>LABEL example="foo-$ENV_VAR"</code>), single quotes will take the string as is without unpacking the variable's value.</p>
</div>
<p>Labels included in base images (images in the <code>FROM</code> line) are inherited by your image. If a label already exists but with a different value, the most-recently-applied value overrides any previously-set value.</p>
<p>To view an image's labels, use the <code>docker image inspect</code> command. You can use the <code>--format</code> option to show just the labels;</p>
<h1 id="maintainer-deprecated">MAINTAINER (deprecated)<a class="headerlink" href="#maintainer-deprecated" title="Permanent link">&para;</a></h1>
<p>The <code>MAINTAINER</code> instruction sets the <em>Author</em> field of the generated images. The <code>LABEL</code> instruction is a much more flexible version of this and you should use it instead, as it enables setting any metadata you require, and can be viewed easily, for example with <code>docker inspect</code>. To set a label corresponding to the <code>MAINTAINER</code> field you could use:</p>
<p>This will then be visible from <code>docker inspect</code> with the other labels.</p>
<p>The <code>EXPOSE</code> instruction informs Docker that the container listens on the specified network ports at runtime. You can specify whether the port listens on TCP or UDP, and the default is TCP if you don't specify a protocol.</p>
<p>The <code>EXPOSE</code> instruction doesn't actually publish the port. It functions as a type of documentation between the person who builds the image and the person who runs the container, about which ports are intended to be published. To publish the port when running the container, use the <code>-p</code> flag on <code>docker run</code> to publish and map one or more ports, or the <code>-P</code> flag to publish all exposed ports and map them to high-order ports.</p>
<p>By default, <code>EXPOSE</code> assumes TCP. You can also specify UDP:</p>
<p>To expose on both TCP and UDP, include two lines:</p>
<p>In this case, if you use <code>-P</code> with <code>docker run</code>, the port will be exposed once for TCP and once for UDP. Remember that <code>-P</code> uses an ephemeral high-ordered host port on the host, so TCP and UDP doesn't use the same port.</p>
<p>Regardless of the <code>EXPOSE</code> settings, you can override them at runtime by using the <code>-p</code> flag. For example</p>
<p>To set up port redirection on the host system, see <a href="https://docs.docker.com/reference/cli/docker/container/run/#publish">using the -P flag</a>. The <code>docker network</code> command supports creating networks for communication among containers without the need to expose or publish specific ports, because the containers connected to the network can communicate with each other over any port. For detailed information, see the <a href="https://docs.docker.com/engine/userguide/networking/">overview of this feature</a>.</p>
<p>The <code>ENV</code> instruction sets the environment variable <code>&lt;key&gt;</code> to the value <code>&lt;value&gt;</code>. This value will be in the environment for all subsequent instructions in the build stage and can be <a href="https://docs.docker.com/reference/dockerfile/#environment-replacement">replaced inline</a> in many as well. The value will be interpreted for other environment variables, so quote characters will be removed if they are not escaped. Like command line parsing, quotes and backslashes can be used to include spaces within values.</p>
<p>Example:</p>
<p>The <code>ENV</code> instruction allows for multiple <code>&lt;key&gt;=&lt;value&gt; </code> variables to be set at one time, and the example below will yield the same net results in the final image:</p>
<p>The environment variables set using <code>ENV</code> will persist when a container is run from the resulting image. You can view the values using <code>docker inspect</code>, and change them using <code>docker run --env &lt;key&gt;=&lt;value&gt;</code>.</p>
<p>A stage inherits any environment variables that were set using <code>ENV</code> by its parent stage or any ancestor. Refer to the <a href="https://docs.docker.com/build/building/multi-stage/">multi-stage builds section</a> in the manual for more information.</p>
<p>Environment variable persistence can cause unexpected side effects. For example, setting <code>ENV DEBIAN_FRONTEND=noninteractive</code> changes the behavior of <code>apt-get</code>, and may confuse users of your image.</p>
<p>If an environment variable is only needed during build, and not in the final image, consider setting a value for a single command instead:</p>
<p>Or using <a href="https://docs.docker.com/reference/dockerfile/#arg"><code>ARG</code></a>, which is not persisted in the final image:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Alternative syntax</strong></p>
<p>The <code>ENV</code> instruction also allows an alternative syntax <code>ENV &lt;key&gt; &lt;value&gt;</code>, omitting the <code>=</code>. For example:</p>
<p>This syntax does not allow for multiple environment-variables to be set in a single <code>ENV</code> instruction, and can be confusing. For example, the following sets a single environment variable (<code>ONE</code>) with value <code>"TWO= THREE=world"</code>:</p>
<p>The alternative syntax is supported for backward compatibility, but discouraged for the reasons outlined above, and may be removed in a future release.</p>
</div>
<p>ADD has two forms. The latter form is required for paths containing whitespace.</p>
<p>The available <code>[OPTIONS]</code> are:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Minimum Dockerfile version</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#add---keep-git-dir"><code>--keep-git-dir</code></a></td>
<td>1.1</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#add---checksum"><code>--checksum</code></a></td>
<td>1.6</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#add---chown---chmod"><code>--chown</code></a></td>
<td></td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#add---chown---chmod"><code>--chmod</code></a></td>
<td>1.2</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#add---link"><code>--link</code></a></td>
<td>1.4</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#add---exclude"><code>--exclude</code></a></td>
<td>1.7-labs</td>
</tr>
</tbody>
</table>
<p>The <code>ADD</code> instruction copies new files or directories from <code>&lt;src&gt;</code> and adds them to the filesystem of the image at the path <code>&lt;dest&gt;</code>. Files and directories can be copied from the build context, a remote URL, or a Git repository.</p>
<p>The <code>ADD</code> and <code>COPY</code> instructions are functionally similar, but serve slightly different purposes. Learn more about the <a href="https://docs.docker.com/build/building/best-practices/#add-or-copy">differences between <code>ADD</code> and <code>COPY</code></a>.</p>
<h2 id="source">Source<a class="headerlink" href="#source" title="Permanent link">&para;</a></h2>
<p>You can specify multiple source files or directories with <code>ADD</code>. The last argument must always be the destination. For example, to add two files, <code>file1.txt</code> and <code>file2.txt</code>, from the build context to <code>/usr/src/things/</code> in the build container:</p>
<p>If you specify multiple source files, either directly or using a wildcard, then the destination must be a directory (must end with a slash <code>/</code>).</p>
<p>To add files from a remote location, you can specify a URL or the address of a Git repository as the source. For example:</p>
<p>BuildKit detects the type of <code>&lt;src&gt;</code> and processes it accordingly.</p>
<ul>
<li>If <code>&lt;src&gt;</code> is a local file or directory, the contents of the directory are copied to the specified destination. See <a href="https://docs.docker.com/reference/dockerfile/#adding-files-from-the-build-context">Adding files from the build context</a>.</li>
<li>If <code>&lt;src&gt;</code> is a local tar archive, it is decompressed and extracted to the specified destination. See <a href="https://docs.docker.com/reference/dockerfile/#adding-local-tar-archives">Adding local tar archives</a>.</li>
<li>If <code>&lt;src&gt;</code> is a URL, the contents of the URL are downloaded and placed at the specified destination. See <a href="https://docs.docker.com/reference/dockerfile/#adding-files-from-a-url">Adding files from a URL</a>.</li>
<li>If <code>&lt;src&gt;</code> is a Git repository, the repository is cloned to the specified destination. See <a href="https://docs.docker.com/reference/dockerfile/#adding-files-from-a-git-repository">Adding files from a Git repository</a>.</li>
</ul>
<h3 id="adding-files-from-the-build-context">Adding Files from the Build Context<a class="headerlink" href="#adding-files-from-the-build-context" title="Permanent link">&para;</a></h3>
<p>Any relative or local path that doesn't begin with a <code>http://</code>, <code>https://</code>, or <code>git@</code> protocol prefix is considered a local file path. The local file path is relative to the build context. For example, if the build context is the current directory, <code>ADD file.txt /</code> adds the file at <code>./file.txt</code> to the root of the filesystem in the build container.</p>
<p>When adding source files from the build context, their paths are interpreted as relative to the root of the context. If you specify a relative path leading outside of the build context, such as <code>ADD ../something /something</code>, parent directory paths are stripped out automatically. The effective source path in this example becomes <code>ADD something /something</code>.</p>
<p>If the source is a directory, the contents of the directory are copied, including filesystem metadata. The directory itself isn't copied, only its contents. If it contains subdirectories, these are also copied, and merged with any existing directories at the destination. Any conflicts are resolved in favor of the content being added, on a file-by-file basis, except if you're trying to copy a directory onto an existing file, in which case an error is raised.</p>
<p>If the source is a file, the file and its metadata are copied to the destination. File permissions are preserved. If the source is a file and a directory with the same name exists at the destination, an error is raised.</p>
<p>If you pass a Dockerfile through stdin to the build (<code>docker build - &lt; Dockerfile</code>), there is no build context. In this case, you can only use the <code>ADD</code> instruction to copy remote files. You can also pass a tar archive through stdin: (<code>docker build - &lt; archive.tar</code>), the Dockerfile at the root of the archive and the rest of the archive will be used as the context of the build.</p>
<h4 id="pattern-matching">Pattern Matching<a class="headerlink" href="#pattern-matching" title="Permanent link">&para;</a></h4>
<p>For local files, each <code>&lt;src&gt;</code> may contain wildcards and matching will be done using Go's <a href="https://golang.org/pkg/path/filepath#Match">filepath.Match</a> rules.</p>
<p>For example, to add all files and directories in the root of the build context ending with <code>.png</code>:</p>
<p>In the following example, <code>?</code> is a single-character wildcard, matching e.g. <code>index.js</code> and <code>index.ts</code>.</p>
<p>When adding files or directories that contain special characters (such as <code>[</code> and <code>]</code>), you need to escape those paths following the Golang rules to prevent them from being treated as a matching pattern. For example, to add a file named <code>arr[0].txt</code>, use the following;</p>
<h3 id="adding-local-tar-archives">Adding Local Tar Archives<a class="headerlink" href="#adding-local-tar-archives" title="Permanent link">&para;</a></h3>
<p>When using a local tar archive as the source for <code>ADD</code>, and the archive is in a recognized compression format (<code>gzip</code>, <code>bzip2</code> or <code>xz</code>, or uncompressed), the archive is decompressed and extracted into the specified destination. Only local tar archives are extracted. If the tar archive is a remote URL, the archive is not extracted, but downloaded and placed at the destination.</p>
<p>When a directory is extracted, it has the same behavior as <code>tar -x</code>. The result is the union of:</p>
<ol>
<li>Whatever existed at the destination path, and</li>
<li>The contents of the source tree, with conflicts resolved in favor of the content being added, on a file-by-file basis.</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Whether a file is identified as a recognized compression format or not is done solely based on the contents of the file, not the name of the file. For example, if an empty file happens to end with <code>.tar.gz</code> this isn't recognized as a compressed file and doesn't generate any kind of decompression error message, rather the file will simply be copied to the destination.</p>
</div>
<h3 id="adding-files-from-a-url">Adding Files from a URL<a class="headerlink" href="#adding-files-from-a-url" title="Permanent link">&para;</a></h3>
<p>In the case where source is a remote file URL, the destination will have permissions of 600. If the HTTP response contains a <code>Last-Modified</code> header, the timestamp from that header will be used to set the <code>mtime</code> on the destination file. However, like any other file processed during an <code>ADD</code>, <code>mtime</code> isn't included in the determination of whether or not the file has changed and the cache should be updated.</p>
<p>If the destination ends with a trailing slash, then the filename is inferred from the URL path. For example, <code>ADD http://example.com/foobar /</code> would create the file <code>/foobar</code>. The URL must have a nontrivial path so that an appropriate filename can be discovered (<code>http://example.com</code> doesn't work).</p>
<p>If the destination doesn't end with a trailing slash, the destination path becomes the filename of the file downloaded from the URL. For example, <code>ADD http://example.com/foo /bar</code> creates the file <code>/bar</code>.</p>
<p>If your URL files are protected using authentication, you need to use <code>RUN wget</code>, <code>RUN curl</code> or use another tool from within the container as the <code>ADD</code> instruction doesn't support authentication.</p>
<h3 id="adding-files-from-a-git-repository">Adding Files from a Git Repository<a class="headerlink" href="#adding-files-from-a-git-repository" title="Permanent link">&para;</a></h3>
<p>To use a Git repository as the source for <code>ADD</code>, you can reference the repository's HTTP or SSH address as the source. The repository is cloned to the specified destination in the image.</p>
<p>You can use URL fragments to specify a specific branch, tag, commit, or subdirectory. For example, to add the <code>docs</code> directory of the <code>v0.14.1</code> tag of the <code>buildkit</code> repository:</p>
<p>For more information about Git URL fragments, see <a href="https://docs.docker.com/build/building/context/#url-fragments">URL fragments</a>.</p>
<p>When adding from a Git repository, the permissions bits for files are 644. If a file in the repository has the executable bit set, it will have permissions set to 755. Directories have permissions set to 755.</p>
<p>When using a Git repository as the source, the repository must be accessible from the build context. To add a repository via SSH, whether public or private, you must pass an SSH key for authentication. For example, given the following Dockerfile:</p>
<p>To build this Dockerfile, pass the <code>--ssh</code> flag to the <code>docker build</code> to mount the SSH agent socket to the build. For example:</p>
<p>For more information about building with secrets, see <a href="https://docs.docker.com/build/building/secrets/">Build secrets</a>.</p>
<h2 id="destination">Destination<a class="headerlink" href="#destination" title="Permanent link">&para;</a></h2>
<p>If the destination path begins with a forward slash, it's interpreted as an absolute path, and the source files are copied into the specified destination relative to the root of the current build stage.</p>
<p>Trailing slashes are significant. For example, <code>ADD test.txt /abs</code> creates a file at <code>/abs</code>, whereas <code>ADD test.txt /abs/</code> creates <code>/abs/test.txt</code>.</p>
<p>If the destination path doesn't begin with a leading slash, it's interpreted as relative to the working directory of the build container.</p>
<p>If destination doesn't exist, it's created, along with all missing directories in its path.</p>
<p>If the source is a file, and the destination doesn't end with a trailing slash, the source file will be written to the destination path as a file.</p>
<h2 id="add-keep-git-dir">ADD --keep-git-dir<a class="headerlink" href="#add-keep-git-dir" title="Permanent link">&para;</a></h2>
<p>When <code>&lt;src&gt;</code> is the HTTP or SSH address of a remote Git repository, BuildKit adds the contents of the Git repository to the image excluding the <code>.git</code> directory by default.</p>
<p>The <code>--keep-git-dir=true</code> flag lets you preserve the <code>.git</code> directory.</p>
<h2 id="add-checksum">ADD --checksum<a class="headerlink" href="#add-checksum" title="Permanent link">&para;</a></h2>
<p>The <code>--checksum</code> flag lets you verify the checksum of a remote resource. The checksum is formatted as <code>&lt;algorithm&gt;:&lt;hash&gt;</code>. The supported algorithms are <code>sha256</code>, <code>sha384</code>, and <code>sha512</code>.</p>
<p>The <code>--checksum</code> flag only supports HTTP(S) sources.</p>
<h2 id="add-chown-chmod">ADD --chown --chmod<a class="headerlink" href="#add-chown-chmod" title="Permanent link">&para;</a></h2>
<p>See <a href="https://docs.docker.com/reference/dockerfile/#copy---chown---chmod"><code>COPY --chown --chmod</code></a>.</p>
<h2 id="add-link">ADD --link<a class="headerlink" href="#add-link" title="Permanent link">&para;</a></h2>
<p>See <a href="https://docs.docker.com/reference/dockerfile/#copy---link"><code>COPY --link</code></a>.</p>
<h2 id="add-exclude">ADD --exclude<a class="headerlink" href="#add-exclude" title="Permanent link">&para;</a></h2>
<p>See <a href="https://docs.docker.com/reference/dockerfile/#copy---exclude"><code>COPY --exclude</code></a>.</p>
<p>COPY has two forms. The latter form is required for paths containing whitespace.</p>
<p>The available <code>[OPTIONS]</code> are:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Minimum Dockerfile version</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#copy---from"><code>--from</code></a></td>
<td></td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#copy---chown---chmod"><code>--chown</code></a></td>
<td></td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#copy---chown---chmod"><code>--chmod</code></a></td>
<td>1.2</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#copy---link"><code>--link</code></a></td>
<td>1.4</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#copy---parents"><code>--parents</code></a></td>
<td>1.7-labs</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/reference/dockerfile/#copy---exclude"><code>--exclude</code></a></td>
<td>1.7-labs</td>
</tr>
</tbody>
</table>
<p>The <code>COPY</code> instruction copies new files or directories from <code>&lt;src&gt;</code> and adds them to the filesystem of the image at the path <code>&lt;dest&gt;</code>. Files and directories can be copied from the build context, build stage, named context, or an image.</p>
<p>The <code>ADD</code> and <code>COPY</code> instructions are functionally similar, but serve slightly different purposes. Learn more about the <a href="https://docs.docker.com/build/building/best-practices/#add-or-copy">differences between <code>ADD</code> and <code>COPY</code></a>.</p>
<h2 id="source_1">Source<a class="headerlink" href="#source_1" title="Permanent link">&para;</a></h2>
<p>You can specify multiple source files or directories with <code>COPY</code>. The last argument must always be the destination. For example, to copy two files, <code>file1.txt</code> and <code>file2.txt</code>, from the build context to <code>/usr/src/things/</code> in the build container:</p>
<p>If you specify multiple source files, either directly or using a wildcard, then the destination must be a directory (must end with a slash <code>/</code>).</p>
<p><code>COPY</code> accepts a flag <code>--from=&lt;name&gt;</code> that lets you specify the source location to be a build stage, context, or image. The following example copies files from a stage named <code>build</code>:</p>
<p>For more information about copying from named sources, see the <a href="https://docs.docker.com/reference/dockerfile/#copy---from"><code>--from</code> flag</a>.</p>
<h3 id="copying-from-the-build-context">Copying from the Build Context<a class="headerlink" href="#copying-from-the-build-context" title="Permanent link">&para;</a></h3>
<p>When copying source files from the build context, their paths are interpreted as relative to the root of the context. If you specify a relative path leading outside of the build context, such as <code>COPY ../something /something</code>, parent directory paths are stripped out automatically. The effective source path in this example becomes <code>COPY something /something</code>.</p>
<p>If the source is a directory, the contents of the directory are copied, including filesystem metadata. The directory itself isn't copied, only its contents. If it contains subdirectories, these are also copied, and merged with any existing directories at the destination. Any conflicts are resolved in favor of the content being added, on a file-by-file basis, except if you're trying to copy a directory onto an existing file, in which case an error is raised.</p>
<p>If the source is a file, the file and its metadata are copied to the destination. File permissions are preserved. If the source is a file and a directory with the same name exists at the destination, an error is raised.</p>
<p>If you pass a Dockerfile through stdin to the build (<code>docker build - &lt; Dockerfile</code>), there is no build context. In this case, you can only use the <code>COPY</code> instruction to copy files from other stages, named contexts, or images, using the <a href="https://docs.docker.com/reference/dockerfile/#copy---from"><code>--from</code> flag</a>. You can also pass a tar archive through stdin: (<code>docker build - &lt; archive.tar</code>), the Dockerfile at the root of the archive and the rest of the archive will be used as the context of the build.</p>
<p>When using a Git repository as the build context, the permissions bits for copied files are 644. If a file in the repository has the executable bit set, it will have permissions set to 755. Directories have permissions set to 755.</p>
<h4 id="pattern-matching_1">Pattern Matching<a class="headerlink" href="#pattern-matching_1" title="Permanent link">&para;</a></h4>
<p>For local files, each <code>&lt;src&gt;</code> may contain wildcards and matching will be done using Go's <a href="https://golang.org/pkg/path/filepath#Match">filepath.Match</a> rules.</p>
<p>For example, to add all files and directories in the root of the build context ending with <code>.png</code>:</p>
<p>In the following example, <code>?</code> is a single-character wildcard, matching e.g. <code>index.js</code> and <code>index.ts</code>.</p>
<p>When adding files or directories that contain special characters (such as <code>[</code> and <code>]</code>), you need to escape those paths following the Golang rules to prevent them from being treated as a matching pattern. For example, to add a file named <code>arr[0].txt</code>, use the following;</p>
<h2 id="destination_1">Destination<a class="headerlink" href="#destination_1" title="Permanent link">&para;</a></h2>
<p>If the destination path begins with a forward slash, it's interpreted as an absolute path, and the source files are copied into the specified destination relative to the root of the current build stage.</p>
<p>Trailing slashes are significant. For example, <code>COPY test.txt /abs</code> creates a file at <code>/abs</code>, whereas <code>COPY test.txt /abs/</code> creates <code>/abs/test.txt</code>.</p>
<p>If the destination path doesn't begin with a leading slash, it's interpreted as relative to the working directory of the build container.</p>
<p>If destination doesn't exist, it's created, along with all missing directories in its path.</p>
<p>If the source is a file, and the destination doesn't end with a trailing slash, the source file will be written to the destination path as a file.</p>
<h2 id="copy-from">COPY --from<a class="headerlink" href="#copy-from" title="Permanent link">&para;</a></h2>
<p>By default, the <code>COPY</code> instruction copies files from the build context. The <code>COPY --from</code> flag lets you copy files from an image, a build stage, or a named context instead.</p>
<p>To copy from a build stage in a <a href="https://docs.docker.com/build/building/multi-stage/">multi-stage build</a>, specify the name of the stage you want to copy from. You specify stage names using the <code>AS</code> keyword with the <code>FROM</code> instruction.</p>
<p>You can also copy files directly from named contexts (specified with <code>--build-context &lt;name&gt;=&lt;source&gt;</code>) or images. The following example copies an <code>nginx.conf</code> file from the official Nginx image.</p>
<p>The source path of <code>COPY --from</code> is always resolved from filesystem root of the image or stage that you specify.</p>
<h2 id="copy-chown-chmod">COPY --chown --chmod<a class="headerlink" href="#copy-chown-chmod" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only octal notation is currently supported. Non-octal support is tracked in <a href="https://github.com/moby/buildkit/issues/1951">moby/buildkit#1951</a>.</p>
</div>
<p>The <code>--chown</code> and <code>--chmod</code> features are only supported on Dockerfiles used to build Linux containers, and doesn't work on Windows containers. Since user and group ownership concepts do not translate between Linux and Windows, the use of <code>/etc/passwd</code> and <code>/etc/group</code> for translating user and group names to IDs restricts this feature to only be viable for Linux OS-based containers.</p>
<p>All files and directories copied from the build context are created with a UID and GID of <code>0</code> unless the optional <code>--chown</code> flag specifies a given username, groupname, or UID/GID combination to request specific ownership of the copied content. The format of the <code>--chown</code> flag allows for either username and groupname strings or direct integer UID and GID in any combination. Providing a username without groupname or a UID without GID will use the same numeric UID as the GID. If a username or groupname is provided, the container's root filesystem <code>/etc/passwd</code> and <code>/etc/group</code> files will be used to perform the translation from name to integer UID or GID respectively. The following examples show valid definitions for the <code>--chown</code> flag:</p>
<p>If the container root filesystem doesn't contain either <code>/etc/passwd</code> or <code>/etc/group</code> files and either user or group names are used in the <code>--chown</code> flag, the build will fail on the <code>COPY</code> operation. Using numeric IDs requires no lookup and does not depend on container root filesystem content.</p>
<p>With the Dockerfile syntax version 1.10.0 and later, the <code>--chmod</code> flag supports variable interpolation, which lets you define the permission bits using build arguments:</p>
<h2 id="copy-link">COPY --link<a class="headerlink" href="#copy-link" title="Permanent link">&para;</a></h2>
<p>Enabling this flag in <code>COPY</code> or <code>ADD</code> commands allows you to copy files with enhanced semantics where your files remain independent on their own layer and don't get invalidated when commands on previous layers are changed.</p>
<p>When <code>--link</code> is used your source files are copied into an empty destination directory. That directory is turned into a layer that is linked on top of your previous state.</p>
<p>Is equivalent of doing two builds:</p>
<p>and</p>
<p>and merging all the layers of both images together.</p>
<h3 id="benefits-of-using-link">Benefits of Using --link<a class="headerlink" href="#benefits-of-using-link" title="Permanent link">&para;</a></h3>
<p>Use <code>--link</code> to reuse already built layers in subsequent builds with <code>--cache-from</code> even if the previous layers have changed. This is especially important for multi-stage builds where a <code>COPY --from</code> statement would previously get invalidated if any previous commands in the same stage changed, causing the need to rebuild the intermediate stages again. With <code>--link</code> the layer the previous build generated is reused and merged on top of the new layers. This also means you can easily rebase your images when the base images receive updates, without having to execute the whole build again. In backends that support it, BuildKit can do this rebase action without the need to push or pull any layers between the client and the registry. BuildKit will detect this case and only create new image manifest that contains the new layers and old layers in correct order.</p>
<p>The same behavior where BuildKit can avoid pulling down the base image can also happen when using <code>--link</code> and no other commands that would require access to the files in the base image. In that case BuildKit will only build the layers for the <code>COPY</code> commands and push them to the registry directly on top of the layers of the base image.</p>
<h3 id="incompatibilities-with-linkfalse">Incompatibilities with --link=false<a class="headerlink" href="#incompatibilities-with-linkfalse" title="Permanent link">&para;</a></h3>
<p>When using <code>--link</code> the <code>COPY/ADD</code> commands are not allowed to read any files from the previous state. This means that if in previous state the destination directory was a path that contained a symlink, <code>COPY/ADD</code> can not follow it. In the final image the destination path created with <code>--link</code> will always be a path containing only directories.</p>
<p>If you don't rely on the behavior of following symlinks in the destination path, using <code>--link</code> is always recommended. The performance of <code>--link</code> is equivalent or better than the default behavior and, it creates much better conditions for cache reuse.</p>
<h2 id="copy-parents">COPY --parents<a class="headerlink" href="#copy-parents" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Not yet available in stable syntax, use <a href="https://docs.docker.com/reference/dockerfile/#syntax"><code>docker/dockerfile:1.7-labs</code></a> version.</p>
</div>
<p>The <code>--parents</code> flag preserves parent directories for <code>src</code> entries. This flag defaults to <code>false</code>.</p>
<p>This behavior is similar to the <a href="https://www.man7.org/linux/man-pages/man1/cp.1.html">Linux <code>cp</code> utility's</a> <code>--parents</code> or <a href="https://man7.org/linux/man-pages/man1/rsync.1.html"><code>rsync</code></a> <code>--relative</code> flag.</p>
<p>As with Rsync, it is possible to limit which parent directories are preserved by inserting a dot and a slash (<code>./</code>) into the source path. If such point exists, only parent directories after it will be preserved. This may be especially useful copies between stages with <code>--from</code> where the source paths need to be absolute.</p>
<p>Note that, without the <code>--parents</code> flag specified, any filename collision will fail the Linux <code>cp</code> operation with an explicit error message (<code>cp: will not overwrite just-created './x/a.txt' with './y/a.txt'</code>), where the Buildkit will silently overwrite the target file at the destination.</p>
<p>While it is possible to preserve the directory structure for <code>COPY</code> instructions consisting of only one <code>src</code> entry, usually it is more beneficial to keep the layer count in the resulting image as low as possible. Therefore, with the <code>--parents</code> flag, the Buildkit is capable of packing multiple <code>COPY</code> instructions together, keeping the directory structure intact.</p>
<h2 id="copy-exclude">COPY --exclude<a class="headerlink" href="#copy-exclude" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Not yet available in stable syntax, use <a href="https://docs.docker.com/reference/dockerfile/#syntax"><code>docker/dockerfile:1.7-labs</code></a> version.</p>
</div>
<p>The <code>--exclude</code> flag lets you specify a path expression for files to be excluded.</p>
<p>The path expression follows the same format as <code>&lt;src&gt;</code>, supporting wildcards and matching using Go's <a href="https://golang.org/pkg/path/filepath#Match">filepath.Match</a> rules. For example, to add all files starting with "hom", excluding files with a <code>.txt</code> extension:</p>
<p>You can specify the <code>--exclude</code> option multiple times for a <code>COPY</code> instruction. Multiple <code>--excludes</code> are files matching its patterns not to be copied, even if the files paths match the pattern specified in <code>&lt;src&gt;</code>. To add all files starting with "hom", excluding files with either <code>.txt</code> or <code>.md</code> extensions:</p>
<h1 id="entrypoint">ENTRYPOINT<a class="headerlink" href="#entrypoint" title="Permanent link">&para;</a></h1>
<p>An <code>ENTRYPOINT</code> allows you to configure a container that will run as an executable.</p>
<p><code>ENTRYPOINT</code> has two possible forms:</p>
<ul>
<li>The exec form, which is the preferred form:</li>
<li>The shell form:</li>
</ul>
<p>For more information about the different forms, see <a href="https://docs.docker.com/reference/dockerfile/#shell-and-exec-form">Shell and exec form</a>.</p>
<p>The following command starts a container from the <code>nginx</code> with its default content, listening on port 80:</p>
<p>Command line arguments to <code>docker run &lt;image&gt;</code> will be appended after all elements in an exec form <code>ENTRYPOINT</code>, and will override all elements specified using <code>CMD</code>.</p>
<p>This allows arguments to be passed to the entry point, i.e., <code>docker run &lt;image&gt; -d</code> will pass the <code>-d</code> argument to the entry point. You can override the <code>ENTRYPOINT</code> instruction using the <code>docker run --entrypoint</code> flag.</p>
<p>The shell form of <code>ENTRYPOINT</code> prevents any <code>CMD</code> command line arguments from being used. It also starts your <code>ENTRYPOINT</code> as a subcommand of <code>/bin/sh -c</code>, which does not pass signals. This means that the executable will not be the container's <code>PID 1</code>, and will not receive Unix signals. In this case, your executable doesn't receive a <code>SIGTERM</code> from <code>docker stop &lt;container&gt;</code>.</p>
<p>Only the last <code>ENTRYPOINT</code> instruction in the Dockerfile will have an effect.</p>
<h2 id="exec-form-entrypoint-example">Exec Form ENTRYPOINT Example<a class="headerlink" href="#exec-form-entrypoint-example" title="Permanent link">&para;</a></h2>
<p>You can use the exec form of <code>ENTRYPOINT</code> to set fairly stable default commands and arguments and then use either form of <code>CMD</code> to set additional defaults that are more likely to be changed.</p>
<p>When you run the container, you can see that <code>top</code> is the only process:</p>
<p>To examine the result further, you can use <code>docker exec</code>:</p>
<p>And you can gracefully request <code>top</code> to shut down using <code>docker stop test</code>.</p>
<p>The following Dockerfile shows using the <code>ENTRYPOINT</code> to run Apache in the foreground (i.e., as <code>PID 1</code>):</p>
<p>If you need to write a starter script for a single executable, you can ensure that the final executable receives the Unix signals by using <code>exec</code> and <code>gosu</code> commands:</p>
<p>Lastly, if you need to do some extra cleanup (or communicate with other containers) on shutdown, or are co-ordinating more than one executable, you may need to ensure that the <code>ENTRYPOINT</code> script receives the Unix signals, passes them on, and then does some more work:</p>
<p>If you run this image with <code>docker run -it --rm -p 80:80 --name test apache</code>, you can then examine the container's processes with <code>docker exec</code>, or <code>docker top</code>, and then ask the script to stop Apache:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can override the <code>ENTRYPOINT</code> setting using <code>--entrypoint</code>, but this can only set the binary to exec (no <code>sh -c</code> will be used).</p>
</div>
<h2 id="shell-form-entrypoint-example">Shell Form ENTRYPOINT Example<a class="headerlink" href="#shell-form-entrypoint-example" title="Permanent link">&para;</a></h2>
<p>You can specify a plain string for the <code>ENTRYPOINT</code> and it will execute in <code>/bin/sh -c</code>. This form will use shell processing to substitute shell environment variables, and will ignore any <code>CMD</code> or <code>docker run</code> command line arguments. To ensure that <code>docker stop</code> will signal any long running <code>ENTRYPOINT</code> executable correctly, you need to remember to start it with <code>exec</code>:</p>
<p>When you run this image, you'll see the single <code>PID 1</code> process:</p>
<p>Which exits cleanly on <code>docker stop</code>:</p>
<p>If you forget to add <code>exec</code> to the beginning of your <code>ENTRYPOINT</code>:</p>
<p>You can then run it (giving it a name for the next step):</p>
<p>You can see from the output of <code>top</code> that the specified <code>ENTRYPOINT</code> is not <code>PID 1</code>.</p>
<p>If you then run <code>docker stop test</code>, the container will not exit cleanly - the <code>stop</code> command will be forced to send a <code>SIGKILL</code> after the timeout:</p>
<h2 id="understand-how-cmd-and-entrypoint-interact">Understand how CMD and ENTRYPOINT Interact<a class="headerlink" href="#understand-how-cmd-and-entrypoint-interact" title="Permanent link">&para;</a></h2>
<p>Both <code>CMD</code> and <code>ENTRYPOINT</code> instructions define what command gets executed when running a container. There are few rules that describe their co-operation.</p>
<ol>
<li>Dockerfile should specify at least one of <code>CMD</code> or <code>ENTRYPOINT</code> commands.</li>
<li><code>ENTRYPOINT</code> should be defined when using the container as an executable.</li>
<li><code>CMD</code> should be used as a way of defining default arguments for an <code>ENTRYPOINT</code> command or for executing an ad-hoc command in a container.</li>
<li><code>CMD</code> will be overridden when running the container with alternative arguments.</li>
</ol>
<p>The table below shows what command is executed for different <code>ENTRYPOINT</code> / <code>CMD</code> combinations:</p>
<table>
<thead>
<tr>
<th></th>
<th>No ENTRYPOINT</th>
<th>ENTRYPOINT exec_entry p1_entry</th>
<th>ENTRYPOINT ["exec_entry", "p1_entry"]</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>No CMD</strong></td>
<td>error, not allowed</td>
<td>/bin/sh -c exec_entry p1_entry</td>
<td>exec_entry p1_entry</td>
</tr>
<tr>
<td><strong>CMD ["exec_cmd", "p1_cmd"]</strong></td>
<td>exec_cmd p1_cmd</td>
<td>/bin/sh -c exec_entry p1_entry</td>
<td>exec_entry p1_entry exec_cmd p1_cmd</td>
</tr>
<tr>
<td><strong>CMD exec_cmd p1_cmd</strong></td>
<td>/bin/sh -c exec_cmd p1_cmd</td>
<td>/bin/sh -c exec_entry p1_entry</td>
<td>exec_entry p1_entry /bin/sh -c exec_cmd p1_cmd</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If <code>CMD</code> is defined from the base image, setting <code>ENTRYPOINT</code> will reset <code>CMD</code> to an empty value. In this scenario, <code>CMD</code> must be defined in the current image to have a value.</p>
</div>
<p>The <code>VOLUME</code> instruction creates a mount point with the specified name and marks it as holding externally mounted volumes from native host or other containers. The value can be a JSON array, <code>VOLUME ["/var/log/"]</code>, or a plain string with multiple arguments, such as <code>VOLUME /var/log</code> or <code>VOLUME /var/log /var/db</code>. For more information/examples and mounting instructions via the Docker client, refer to <a href="https://docs.docker.com/storage/volumes/"><em>Share Directories via Volumes</em></a> documentation.</p>
<p>The <code>docker run</code> command initializes the newly created volume with any data that exists at the specified location within the base image. For example, consider the following Dockerfile snippet:</p>
<p>This Dockerfile results in an image that causes <code>docker run</code> to create a new mount point at <code>/myvol</code> and copy the <code>greeting</code> file into the newly created volume.</p>
<h2 id="notes-about-specifying-volumes">Notes about Specifying Volumes<a class="headerlink" href="#notes-about-specifying-volumes" title="Permanent link">&para;</a></h2>
<p>Keep the following things in mind about volumes in the Dockerfile.</p>
<ul>
<li><strong>Volumes on Windows-based containers</strong>: When using Windows-based containers, the destination of a volume inside the container must be one of:</li>
<li>a non-existing or empty directory</li>
<li>a drive other than <code>C:</code></li>
<li><strong>Changing the volume from within the Dockerfile</strong>: If any build steps change the data within the volume after it has been declared, those changes will be discarded when using the legacy builder. When using Buildkit, the changes will instead be kept.</li>
<li><strong>JSON formatting</strong>: The list is parsed as a JSON array. You must enclose words with double quotes (<code>"</code>) rather than single quotes (<code>'</code>).</li>
<li><strong>The host directory is declared at container run-time</strong>: The host directory (the mountpoint) is, by its nature, host-dependent. This is to preserve image portability, since a given host directory can't be guaranteed to be available on all hosts. For this reason, you can't mount a host directory from within the Dockerfile. The <code>VOLUME</code> instruction does not support specifying a <code>host-dir</code> parameter. You must specify the mountpoint when you create or run the container.</li>
</ul>
<p>or</p>
<p>The <code>USER</code> instruction sets the user name (or UID) and optionally the user group (or GID) to use as the default user and group for the remainder of the current stage. The specified user is used for <code>RUN</code> instructions and at runtime, runs the relevant <code>ENTRYPOINT</code> and <code>CMD</code> commands.</p>
<blockquote>
<p>Note that when specifying a group for the user, the user will have <em>only</em> the specified group membership. Any other configured group memberships will be ignored.</p>
</blockquote>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When the user doesn't have a primary group then the image (or the next instructions) will be run with the <code>root</code> group.</p>
<p>On Windows, the user must be created first if it's not a built-in account. This can be done with the <code>net user</code> command called as part of a Dockerfile.</p>
</div>
<p>The <code>WORKDIR</code> instruction sets the working directory for any <code>RUN</code>, <code>CMD</code>, <code>ENTRYPOINT</code>, <code>COPY</code> and <code>ADD</code> instructions that follow it in the Dockerfile. If the <code>WORKDIR</code> doesn't exist, it will be created even if it's not used in any subsequent Dockerfile instruction.</p>
<p>The <code>WORKDIR</code> instruction can be used multiple times in a Dockerfile. If a relative path is provided, it will be relative to the path of the previous <code>WORKDIR</code> instruction. For example:</p>
<p>The output of the final <code>pwd</code> command in this Dockerfile would be <code>/a/b/c</code>.</p>
<p>The <code>WORKDIR</code> instruction can resolve environment variables previously set using <code>ENV</code>. You can only use environment variables explicitly set in the Dockerfile. For example:</p>
<p>The output of the final <code>pwd</code> command in this Dockerfile would be <code>/path/$DIRNAME</code></p>
<p>If not specified, the default working directory is <code>/</code>. In practice, if you aren't building a Dockerfile from scratch (<code>FROM scratch</code>), the <code>WORKDIR</code> may likely be set by the base image you're using.</p>
<p>Therefore, to avoid unintended operations in unknown directories, it's best practice to set your <code>WORKDIR</code> explicitly.</p>
<p>The <code>ARG</code> instruction defines a variable that users can pass at build-time to the builder with the <code>docker build</code> command using the <code>--build-arg &lt;varname&gt;=&lt;value&gt;</code> flag.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>It isn't recommended to use build arguments for passing secrets such as user credentials, API tokens, etc. Build arguments are visible in the <code>docker history</code> command and in <code>max</code> mode provenance attestations, which are attached to the image by default if you use the Buildx GitHub Actions and your GitHub repository is public.</p>
<p>Refer to the <a href="https://docs.docker.com/reference/dockerfile/#run---mounttypesecret"><code>RUN --mount=type=secret</code></a> section to learn about secure ways to use secrets when building images.</p>
</div>
<p>A Dockerfile may include one or more <code>ARG</code> instructions. For example, the following is a valid Dockerfile:</p>
<h2 id="default-values">Default Values<a class="headerlink" href="#default-values" title="Permanent link">&para;</a></h2>
<p>An <code>ARG</code> instruction can optionally include a default value:</p>
<p>If an <code>ARG</code> instruction has a default value and if there is no value passed at build-time, the builder uses the default.</p>
<h2 id="scope">Scope<a class="headerlink" href="#scope" title="Permanent link">&para;</a></h2>
<p>An <code>ARG</code> variable comes into effect from the line on which it is declared in the Dockerfile. For example, consider this Dockerfile:</p>
<p>A user builds this file by calling:</p>
<ul>
<li>The <code>USER</code> instruction on line 2 evaluates to the <code>some_user</code> fallback, because the <code>username</code> variable is not yet declared.</li>
<li>The <code>username</code> variable is declared on line 3, and available for reference in Dockerfile instruction from that point onwards.</li>
<li>The <code>USER</code> instruction on line 4 evaluates to <code>what_user</code>, since at that point the <code>username</code> argument has a value of <code>what_user</code> which was passed on the command line. Prior to its definition by an <code>ARG</code> instruction, any use of a variable results in an empty string.</li>
</ul>
<p>An <code>ARG</code> variable declared within a build stage is automatically inherited by other stages based on that stage. Unrelated build stages do not have access to the variable. To use an argument in multiple distinct stages, each stage must include the <code>ARG</code> instruction, or they must both be based on a shared base stage in the same Dockerfile where the variable is declared.</p>
<p>For more information, refer to <a href="https://docs.docker.com/build/building/variables/#scoping">variable scoping</a>.</p>
<h2 id="using-arg-variables">Using ARG Variables<a class="headerlink" href="#using-arg-variables" title="Permanent link">&para;</a></h2>
<p>You can use an <code>ARG</code> or an <code>ENV</code> instruction to specify variables that are available to the <code>RUN</code> instruction. Environment variables defined using the <code>ENV</code> instruction always override an <code>ARG</code> instruction of the same name. Consider this Dockerfile with an <code>ENV</code> and <code>ARG</code> instruction.</p>
<p>Then, assume this image is built with this command:</p>
<p>In this case, the <code>RUN</code> instruction uses <code>v1.0.0</code> instead of the <code>ARG</code> setting passed by the user:<code>v2.0.1</code> This behavior is similar to a shell script where a locally scoped variable overrides the variables passed as arguments or inherited from environment, from its point of definition.</p>
<p>Using the example above but a different <code>ENV</code> specification you can create more useful interactions between <code>ARG</code> and <code>ENV</code> instructions:</p>
<p>Unlike an <code>ARG</code> instruction, <code>ENV</code> values are always persisted in the built image. Consider a docker build without the <code>--build-arg</code> flag:</p>
<p>Using this Dockerfile example, <code>CONT_IMG_VER</code> is still persisted in the image but its value would be <code>v1.0.0</code> as it is the default set in line 3 by the <code>ENV</code> instruction.</p>
<p>The variable expansion technique in this example allows you to pass arguments from the command line and persist them in the final image by leveraging the <code>ENV</code> instruction. Variable expansion is only supported for <a href="https://docs.docker.com/reference/dockerfile/#environment-replacement">a limited set of Dockerfile instructions.</a></p>
<h2 id="predefined-args">Predefined ARGs<a class="headerlink" href="#predefined-args" title="Permanent link">&para;</a></h2>
<p>Docker has a set of predefined <code>ARG</code> variables that you can use without a corresponding <code>ARG</code> instruction in the Dockerfile.</p>
<ul>
<li><code>HTTP_PROXY</code></li>
<li><code>http_proxy</code></li>
<li><code>HTTPS_PROXY</code></li>
<li><code>https_proxy</code></li>
<li><code>FTP_PROXY</code></li>
<li><code>ftp_proxy</code></li>
<li><code>NO_PROXY</code></li>
<li><code>no_proxy</code></li>
<li><code>ALL_PROXY</code></li>
<li><code>all_proxy</code></li>
</ul>
<p>To use these, pass them on the command line using the <code>--build-arg</code> flag, for example:</p>
<p>By default, these pre-defined variables are excluded from the output of <code>docker history</code>. Excluding them reduces the risk of accidentally leaking sensitive authentication information in an <code>HTTP_PROXY</code> variable.</p>
<p>For example, consider building the following Dockerfile using <code>--build-arg HTTP_PROXY=http://user:pass@proxy.lon.example.com</code></p>
<p>In this case, the value of the <code>HTTP_PROXY</code> variable is not available in the <code>docker history</code> and is not cached. If you were to change location, and your proxy server changed to <code>http://user:pass@proxy.sfo.example.com</code>, a subsequent build does not result in a cache miss.</p>
<p>If you need to override this behaviour then you may do so by adding an <code>ARG</code> statement in the Dockerfile as follows:</p>
<p>When building this Dockerfile, the <code>HTTP_PROXY</code> is preserved in the <code>docker history</code>, and changing its value invalidates the build cache.</p>
<h2 id="automatic-platform-args-in-the-global-scope">Automatic Platform ARGs in the Global Scope<a class="headerlink" href="#automatic-platform-args-in-the-global-scope" title="Permanent link">&para;</a></h2>
<p>This feature is only available when using the <a href="https://docs.docker.com/build/buildkit/">BuildKit</a> backend.</p>
<p>BuildKit supports a predefined set of <code>ARG</code> variables with information on the platform of the node performing the build (build platform) and on the platform of the resulting image (target platform). The target platform can be specified with the <code>--platform</code> flag on <code>docker build</code>.</p>
<p>The following <code>ARG</code> variables are set automatically:</p>
<ul>
<li><code>TARGETPLATFORM</code> - platform of the build result. Eg <code>linux/amd64</code>, <code>linux/arm/v7</code>, <code>windows/amd64</code>.</li>
<li><code>TARGETOS</code> - OS component of TARGETPLATFORM</li>
<li><code>TARGETARCH</code> - architecture component of TARGETPLATFORM</li>
<li><code>TARGETVARIANT</code> - variant component of TARGETPLATFORM</li>
<li><code>BUILDPLATFORM</code> - platform of the node performing the build.</li>
<li><code>BUILDOS</code> - OS component of BUILDPLATFORM</li>
<li><code>BUILDARCH</code> - architecture component of BUILDPLATFORM</li>
<li><code>BUILDVARIANT</code> - variant component of BUILDPLATFORM</li>
</ul>
<p>These arguments are defined in the global scope so are not automatically available inside build stages or for your <code>RUN</code> commands. To expose one of these arguments inside the build stage redefine it without value.</p>
<p>For example:</p>
<h2 id="buildkit-built-in-build-args">BuildKit Built-in Build Args<a class="headerlink" href="#buildkit-built-in-build-args" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Arg</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>BUILDKIT_CACHE_MOUNT_NS</code></td>
<td>String</td>
<td>Set optional cache ID namespace.</td>
</tr>
<tr>
<td><code>BUILDKIT_CONTEXT_KEEP_GIT_DIR</code></td>
<td>Bool</td>
<td>Trigger Git context to keep the <code>.git</code> directory.</td>
</tr>
<tr>
<td><code>BUILDKIT_INLINE_CACHE</code>[^2]</td>
<td>Bool</td>
<td>Inline cache metadata to image config or not.</td>
</tr>
<tr>
<td><code>BUILDKIT_MULTI_PLATFORM</code></td>
<td>Bool</td>
<td>Opt into deterministic output regardless of multi-platform output or not.</td>
</tr>
<tr>
<td><code>BUILDKIT_SANDBOX_HOSTNAME</code></td>
<td>String</td>
<td>Set the hostname (default <code>buildkitsandbox</code>)</td>
</tr>
<tr>
<td><code>BUILDKIT_SYNTAX</code></td>
<td>String</td>
<td>Set frontend image</td>
</tr>
<tr>
<td><code>SOURCE_DATE_EPOCH</code></td>
<td>Int</td>
<td>Set the Unix timestamp for created image and layers. More info from <a href="https://reproducible-builds.org/docs/source-date-epoch/">reproducible builds</a>. Supported since Dockerfile 1.5, BuildKit 0.11</td>
</tr>
</tbody>
</table>
<h3 id="example-keep-git-dir">Example: Keep .git Dir<a class="headerlink" href="#example-keep-git-dir" title="Permanent link">&para;</a></h3>
<p>When using a Git context, <code>.git</code> dir is not kept on checkouts. It can be useful to keep it around if you want to retrieve git information during your build:</p>
<h2 id="impact-on-build-caching">Impact on Build Caching<a class="headerlink" href="#impact-on-build-caching" title="Permanent link">&para;</a></h2>
<p><code>ARG</code> variables are not persisted into the built image as <code>ENV</code> variables are. However, <code>ARG</code> variables do impact the build cache in similar ways. If a Dockerfile defines an <code>ARG</code> variable whose value is different from a previous build, then a "cache miss" occurs upon its first usage, not its definition. In particular, all <code>RUN</code> instructions following an <code>ARG</code> instruction use the <code>ARG</code> variable implicitly (as an environment variable), thus can cause a cache miss. All predefined <code>ARG</code> variables are exempt from caching unless there is a matching <code>ARG</code> statement in the Dockerfile.</p>
<p>For example, consider these two Dockerfile:</p>
<p>If you specify <code>--build-arg CONT_IMG_VER=&lt;value&gt;</code> on the command line, in both cases, the specification on line 2 doesn't cause a cache miss; line 3 does cause a cache miss. <code>ARG CONT_IMG_VER</code> causes the <code>RUN</code> line to be identified as the same as running <code>CONT_IMG_VER=&lt;value&gt; echo hello</code>, so if the <code>&lt;value&gt;</code> changes, you get a cache miss.</p>
<p>Consider another example under the same command line:</p>
<p>In this example, the cache miss occurs on line 3. The miss happens because the variable's value in the <code>ENV</code> references the <code>ARG</code> variable and that variable is changed through the command line. In this example, the <code>ENV</code> command causes the image to include the value.</p>
<p>If an <code>ENV</code> instruction overrides an <code>ARG</code> instruction of the same name, like this Dockerfile:</p>
<p>Line 3 doesn't cause a cache miss because the value of <code>CONT_IMG_VER</code> is a constant (<code>hello</code>). As a result, the environment variables and values used on the <code>RUN</code> (line 4) doesn't change between builds.</p>
<p>The <code>ONBUILD</code> instruction adds to the image a trigger instruction to be executed at a later time, when the image is used as the base for another build. The trigger will be executed in the context of the downstream build, as if it had been inserted immediately after the <code>FROM</code> instruction in the downstream Dockerfile.</p>
<p>This is useful if you are building an image which will be used as a base to build other images, for example an application build environment or a daemon which may be customized with user-specific configuration.</p>
<p>For example, if your image is a reusable Python application builder, it will require application source code to be added in a particular directory, and it might require a build script to be called after that. You can't just call <code>ADD</code> and <code>RUN</code> now, because you don't yet have access to the application source code, and it will be different for each application build. You could simply provide application developers with a boilerplate Dockerfile to copy-paste into their application, but that's inefficient, error-prone and difficult to update because it mixes with application-specific code.</p>
<p>The solution is to use <code>ONBUILD</code> to register advance instructions to run later, during the next build stage.</p>
<p>Here's how it works:</p>
<ol>
<li>When it encounters an <code>ONBUILD</code> instruction, the builder adds a trigger to the metadata of the image being built. The instruction doesn't otherwise affect the current build.</li>
<li>At the end of the build, a list of all triggers is stored in the image manifest, under the key <code>OnBuild</code>. They can be inspected with the <code>docker inspect</code> command.</li>
<li>Later the image may be used as a base for a new build, using the <code>FROM</code> instruction. As part of processing the <code>FROM</code> instruction, the downstream builder looks for <code>ONBUILD</code> triggers, and executes them in the same order they were registered. If any of the triggers fail, the <code>FROM</code> instruction is aborted which in turn causes the build to fail. If all triggers succeed, the <code>FROM</code> instruction completes and the build continues as usual.</li>
<li>Triggers are cleared from the final image after being executed. In other words they aren't inherited by "grand-children" builds.</li>
</ol>
<p>For example you might add something like this:</p>
<h2 id="copy-or-mount-from-stage-image-or-context">Copy or Mount from Stage, Image, or Context<a class="headerlink" href="#copy-or-mount-from-stage-image-or-context" title="Permanent link">&para;</a></h2>
<p>As of Dockerfile syntax 1.11, you can use <code>ONBUILD</code> with instructions that copy or mount files from other stages, images, or build contexts. For example:</p>
<p>If the source of <code>from</code> is a build stage, the stage must be defined in the Dockerfile where <code>ONBUILD</code> gets triggered. If it's a named context, that context must be passed to the downstream build.</p>
<h2 id="onbuild-limitations">ONBUILD Limitations<a class="headerlink" href="#onbuild-limitations" title="Permanent link">&para;</a></h2>
<ul>
<li>Chaining <code>ONBUILD</code> instructions using <code>ONBUILD ONBUILD</code> isn't allowed.</li>
<li>The <code>ONBUILD</code> instruction may not trigger <code>FROM</code> or <code>MAINTAINER</code> instructions.</li>
</ul>
<p>The <code>STOPSIGNAL</code> instruction sets the system call signal that will be sent to the container to exit. This signal can be a signal name in the format <code>SIG&lt;NAME&gt;</code>, for instance <code>SIGKILL</code>, or an unsigned number that matches a position in the kernel's syscall table, for instance <code>9</code>. The default is <code>SIGTERM</code> if not defined.</p>
<p>The image's default stopsignal can be overridden per container, using the <code>--stop-signal</code> flag on <code>docker run</code> and <code>docker create</code>.</p>
<p>The <code>HEALTHCHECK</code> instruction has two forms:</p>
<ul>
<li><code>HEALTHCHECK [OPTIONS] CMD command</code> (check container health by running a command inside the container)</li>
<li><code>HEALTHCHECK NONE</code> (disable any healthcheck inherited from the base image)</li>
</ul>
<p>The <code>HEALTHCHECK</code> instruction tells Docker how to test a container to check that it's still working. This can detect cases such as a web server stuck in an infinite loop and unable to handle new connections, even though the server process is still running.</p>
<p>When a container has a healthcheck specified, it has a health status in addition to its normal status. This status is initially <code>starting</code>. Whenever a health check passes, it becomes <code>healthy</code> (whatever state it was previously in). After a certain number of consecutive failures, it becomes <code>unhealthy</code>.</p>
<p>The options that can appear before <code>CMD</code> are:</p>
<ul>
<li><code>--interval=DURATION</code> (default: <code>30s</code>)</li>
<li><code>--timeout=DURATION</code> (default: <code>30s</code>)</li>
<li><code>--start-period=DURATION</code> (default: <code>0s</code>)</li>
<li><code>--start-interval=DURATION</code> (default: <code>5s</code>)</li>
<li><code>--retries=N</code> (default: <code>3</code>)</li>
</ul>
<p>The health check will first run <strong>interval</strong> seconds after the container is started, and then again <strong>interval</strong> seconds after each previous check completes.</p>
<p>If a single run of the check takes longer than <strong>timeout</strong> seconds then the check is considered to have failed.</p>
<p>It takes <strong>retries</strong> consecutive failures of the health check for the container to be considered <code>unhealthy</code>.</p>
<p><strong>start period</strong> provides initialization time for containers that need time to bootstrap. Probe failure during that period will not be counted towards the maximum number of retries. However, if a health check succeeds during the start period, the container is considered started and all consecutive failures will be counted towards the maximum number of retries.</p>
<p><strong>start interval</strong> is the time between health checks during the start period. This option requires Docker Engine version 25.0 or later.</p>
<p>There can only be one <code>HEALTHCHECK</code> instruction in a Dockerfile. If you list more than one then only the last <code>HEALTHCHECK</code> will take effect.</p>
<p>The command after the <code>CMD</code> keyword can be either a shell command (e.g. <code>HEALTHCHECK CMD /bin/check-running</code>) or an exec array (as with other Dockerfile commands; see e.g. <code>ENTRYPOINT</code> for details).</p>
<p>The command's exit status indicates the health status of the container. The possible values are:</p>
<ul>
<li>0: success - the container is healthy and ready for use</li>
<li>1: unhealthy - the container isn't working correctly</li>
<li>2: reserved - don't use this exit code</li>
</ul>
<p>For example, to check every five minutes or so that a web-server is able to serve the site's main page within three seconds:</p>
<p>To help debug failing probes, any output text (UTF-8 encoded) that the command writes on stdout or stderr will be stored in the health status and can be queried with <code>docker inspect</code>. Such output should be kept short (only the first 4096 bytes are stored currently).</p>
<p>When the health status of a container changes, a <code>health_status</code> event is generated with the new status.</p>
<p>The <code>SHELL</code> instruction allows the default shell used for the shell form of commands to be overridden. The default shell on Linux is <code>["/bin/sh", "-c"]</code>, and on Windows is <code>["cmd", "/S", "/C"]</code>. The <code>SHELL</code> instruction must be written in JSON form in a Dockerfile.</p>
<p>The <code>SHELL</code> instruction is particularly useful on Windows where there are two commonly used and quite different native shells: <code>cmd</code> and <code>powershell</code>, as well as alternate shells available including <code>sh</code>.</p>
<p>The <code>SHELL</code> instruction can appear multiple times. Each <code>SHELL</code> instruction overrides all previous <code>SHELL</code> instructions, and affects all subsequent instructions. For example:</p>
<p>The following instructions can be affected by the <code>SHELL</code> instruction when the shell form of them is used in a Dockerfile: <code>RUN</code>, <code>CMD</code> and <code>ENTRYPOINT</code>.</p>
<p>The following example is a common pattern found on Windows which can be streamlined by using the <code>SHELL</code> instruction:</p>
<p>The command invoked by the builder will be:</p>
<p>This is inefficient for two reasons. First, there is an unnecessary <code>cmd.exe</code> command processor (aka shell) being invoked. Second, each <code>RUN</code> instruction in the shell form requires an extra <code>powershell -command</code> prefixing the command.</p>
<p>To make this more efficient, one of two mechanisms can be employed. One is to use the JSON form of the <code>RUN</code> command such as:</p>
<p>While the JSON form is unambiguous and does not use the unnecessary <code>cmd.exe</code>, it does require more verbosity through double-quoting and escaping. The alternate mechanism is to use the <code>SHELL</code> instruction and the shell form, making a more natural syntax for Windows users, especially when combined with the <code>escape</code> parser directive:</p>
<p>Resulting in:</p>
<p>The <code>SHELL</code> instruction could also be used to modify the way in which a shell operates. For example, using <code>SHELL cmd /S /C /V:ON|OFF</code> on Windows, delayed environment variable expansion semantics could be modified.</p>
<p>The <code>SHELL</code> instruction can also be used on Linux should an alternate shell be required such as <code>zsh</code>, <code>csh</code>, <code>tcsh</code> and others.</p>
<p>Here-documents allow redirection of subsequent Dockerfile lines to the input of <code>RUN</code> or <code>COPY</code> commands. If such command contains a <a href="https://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html#tag_18_07_04">here-document</a> the Dockerfile considers the next lines until the line only containing a here-doc delimiter as part of the same command.</p>
<h2 id="example-running-a-multi-line-script">Example: Running a Multi-line Script<a class="headerlink" href="#example-running-a-multi-line-script" title="Permanent link">&para;</a></h2>
<p>If the command only contains a here-document, its contents is evaluated with the default shell.</p>
<p>Alternatively, shebang header can be used to define an interpreter.</p>
<p>More complex examples may use multiple here-documents.</p>
<h2 id="example-creating-inline-files">Example: Creating Inline Files<a class="headerlink" href="#example-creating-inline-files" title="Permanent link">&para;</a></h2>
<p>With <code>COPY</code> instructions, you can replace the source parameter with a here-doc indicator to write the contents of the here-document directly to a file. The following example creates a <code>greeting.txt</code> file containing <code>hello world</code> using a <code>COPY</code> instruction.</p>
<p>Regular here-doc <a href="https://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html#tag_18_07_04">variable expansion and tab stripping rules</a> apply. The following example shows a small Dockerfile that creates a <code>hello.sh</code> script file using a <code>COPY</code> instruction with a here-document.</p>
<p>In this case, file script prints "hello bar", because the variable is expanded when the <code>COPY</code> instruction gets executed.</p>
<p>If instead you were to quote any part of the here-document word <code>EOT</code>, the variable would not be expanded at build-time.</p>
<p>Note that <code>ARG FOO=bar</code> is excessive here, and can be removed. The variable gets interpreted at runtime, when the script is invoked:</p>
<p>For examples of Dockerfiles, refer to:</p>
<ul>
<li>The <a href="https://docs.docker.com/build/building/best-practices/">building best practices page</a></li>
<li>The <a href="https://docs.docker.com/get-started/">"get started" tutorials</a></li>
<li>The <a href="https://docs.docker.com/guides/language/">language-specific getting started guides</a></li>
</ul>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime" title="January 19, 2025 11:13:03">January 19, 2025 11:13:03</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime" title="January 19, 2025 11:13:03">January 19, 2025 11:13:03</span>
  </span>

    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../../devops/A%20Docker%20Tutorial%20for%20Beginners/" class="md-footer__link md-footer__link--prev" aria-label="Previous: A Docker Tutorial for Beginners">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                A Docker Tutorial for Beginners
              </div>
            </div>
          </a>
        
        
          
          <a href="../../linux/12%20Linux%20Terminal%20Shortcuts%20Every%20Power%20Linux%20User%20Must%20Know/" class="md-footer__link md-footer__link--next" aria-label="Next: 12 Linux Terminal Shortcuts Every Power Linux User Must Know">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                12 Linux Terminal Shortcuts Every Power Linux User Must Know
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2016 - 2025 Atticus J. Zeller
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="mailto:hello@atticux.me" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480v-83.6c0-4 1.5-7.8 4.2-10.8l167.6-182.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8l-88.3-44.2C7.1 311.3.3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/AtticusZeller" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://hk.linkedin.com/in/atticus-zhou-250a88323" target="_blank" rel="noopener" title="hk.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy", "content.footnote.tooltips", "navigation.instant", "navigation.instant.progress", "navigation.tabs", "navigation.sections", "navigation.indexes", "navigation.footer", "navigation.top", "navigation.tracking", "toc.follow", "header.autohide", "search.suggest", "search.highlight", "search.share"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../../../js/katex.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
      
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>